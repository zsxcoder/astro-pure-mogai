<!DOCTYPE html><html lang="zh-CN" class="astro-37fxchfa" style="--highlightColor: hsl(var(--primary) / var(--un-text-opacity));"> <head><meta charset="utf-8"><meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no, viewport-fit=cover" name="viewport"><meta content="IE=edge" http-equiv="X-UA-Compatible"><title>è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹ â€¢ é’Ÿç¥ç§€ | ZSX&#39;s Blog</title><link rel="icon" type="image/x-icon" href="/favicon/favicon.ico"><link rel="shortcut icon" type="image/x-icon" href="/favicon/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"><link rel="manifest" href="/favicon/site.webmanifest"><link rel="stylesheet" href="https://ik.imagekit.io/ljx/LXGWBright-Medium/result.css?updatedAt=1760351683473" media="print" onload="this.setAttribute('media', 'all')"><noscript><link rel="stylesheet" href="https://ik.imagekit.io/ljx/LXGWBright-Medium/result.css?updatedAt=1760351683473"></noscript><link rel="stylesheet" href="https://ik.imagekit.io/ljx/LXGWBright-MediumItalic/result.css?updatedAt=1760351714330" media="print" onload="this.setAttribute('media', 'all')"><noscript><link rel="stylesheet" href="https://ik.imagekit.io/ljx/LXGWBright-MediumItalic/result.css?updatedAt=1760351714330"></noscript><link rel="stylesheet" href="https://ik.imagekit.io/ljx/LXGWmikhailcai/result.css?updatedAt=1762168258143" media="print" onload="this.setAttribute('media', 'all')"><noscript><link rel="stylesheet" href="https://ik.imagekit.io/ljx/LXGWmikhailcai/result.css?updatedAt=1762168258143"></noscript><link rel="preconnect" href="https://ik.imagekit.io"><link rel="preconnect" href="https://cn.vercount.one"><link rel="canonical" href="https://blog.mcyzsx.top/blog/auto-check-links"><meta content="è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹ â€¢ é’Ÿç¥ç§€ | ZSX's Blog" name="title"><meta content="åˆ©ç”¨ GitHub Actions è¿›è¡Œè‡ªåŠ¨å‹é“¾æ£€æ´»" name="description"><meta content="é’Ÿç¥ç§€" name="author"><meta name="color-scheme" content="light dark"><meta content="article" property="og:type"><meta content="è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹" property="og:title"><meta content="åˆ©ç”¨ GitHub Actions è¿›è¡Œè‡ªåŠ¨å‹é“¾æ£€æ´»" property="og:description"><meta content="https://blog.mcyzsx.top/blog/auto-check-links" property="og:url"><meta content="é’Ÿç¥ç§€ | ZSX's Blog" property="og:site_name"><meta content="zh_CN" property="og:locale"><meta content="https://blog.mcyzsx.top/_astro/cover.Bbhm6CY2.png" property="og:image"><meta content="1200" property="og:image:width"><meta content="630" property="og:image:height"><meta content="é’Ÿç¥ç§€" property="article:author"><meta content="2025-12-31T00:00:00.000Z" property="article:published_time"><meta content="summary_large_image" property="twitter:card"><meta content="https://blog.mcyzsx.top/blog/auto-check-links" property="twitter:url"><meta content="è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹" property="twitter:title"><meta content="åˆ©ç”¨ GitHub Actions è¿›è¡Œè‡ªåŠ¨å‹é“¾æ£€æ´»" property="twitter:description"><meta content="https://blog.mcyzsx.top/_astro/cover.Bbhm6CY2.png" property="twitter:image"><link href="/sitemap-index.xml" rel="sitemap"><link rel="alternate" type="application/rss+xml" title="é’Ÿç¥ç§€ | ZSX's Blog" href="https://blog.mcyzsx.top/rss.xml"><meta content="Astro v5.16.6" name="generator"><script type="module">console.log("%c Astro Theme Pure %c https://github.com/cworld1/astro-theme-pure/","color:#fff;background:linear-gradient(90deg,#448bff,#44e9ff);padding:5px 0;","color:#000;background:linear-gradient(90deg,#44e9ff,#ffffff);padding:5px 10px 5px 0px;");</script><script src="data:text/javascript;base64,LyoqCiAqIEFJU3VtbWFyeSDliY3nq6/phY3nva7mlofku7YKICog5rOo5oSP77ya5q2k5paH5Lu25Lya6KKr5rOo5YWl5Yiw5rWP6KeI5Zmo5Lit6L+Q6KGM77yM6K+35Yu/5Zyo5q2k5a2Y5pS+IEFQSSBLZXkg562J5pWP5oSf5L+h5oGv77yBCiAqLwoKLy8gQUlTdW1tYXJ5IOmdmeaAgeaRmOimgemFjee9ru+8mgp2YXIgYWlzdW1tYXJ5VHlwaW5nQW5pbWF0ZSA9IHRydWUgLy8gdHJ1ZSDlvIDlkK/miZPlrZfmnLrliqjnlLvvvJtmYWxzZSDnm7TmjqXmuLLmn5PmlofmnKwKdmFyIGFpc3VtbWFyeVBvc3RTZWxlY3RvciA9ICcjY29udGVudCcgLy8g5paH56ug5YaF5a655a655Zmo6YCJ5oup5Zmo77yM5L6L5aaCICNhcnRpY2xlLWNvbnRhaW5lciwgLnBvc3QtY29udGVudAo=" defer></script><script src="/_astro/aisummary.TwgLaOhF.js" defer></script><link rel="stylesheet" href="/_astro/aisummary.B7yaf_EW.css"><link rel="stylesheet" href="/_astro/shuoshuo.Dff99zka.css"><link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/aplayer@1.10.1/dist/APlayer.min.css" media="all"><script src="https://cdn.jsdmirror.com/npm/aplayer@1.10.1/dist/APlayer.min.js" defer></script><script src="https://cdn.jsdmirror.com/npm/meting@2.0.2/dist/Meting.min.js" defer></script><script src="https://analytics.ljx.icu/tracker.min.js" data-website-id="ljxblog" defer></script><script src="https://cdn.jsdmirror.com/npm/instant.page@5.2.0/instantpage.js" type="module"></script><script src="data:text/javascript;base64,dmFyIGN1cnJlbnREb21haW4gPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUKCmlmIChjdXJyZW50RG9tYWluLmluY2x1ZGVzKCdibG9nLmxqeC5pY3UnKSkgewogIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKQogIHNjcmlwdC5zcmMgPSAnaHR0cHM6Ly91bWFtaS5sanguaWN1L3NjcmlwdC5qcycKICBzY3JpcHQuc2V0QXR0cmlidXRlKCdkYXRhLXdlYnNpdGUtaWQnLCAnYWQxMWM3YTQtZGJiOC00MmZmLThmNjAtN2MyMjVkOWU5ZmZkJykKICBzY3JpcHQuYXN5bmMgPSB0cnVlCiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpCiAgY29uc29sZS5sb2coJz09PT09PT095oiQ5Yqf5Yqg6L29IFtVbWFtaV0g57uf6K6h5YiG5p6Q5bel5YW35Luj56CBPT09PT09PT0nKQp9IGVsc2UgaWYgKGN1cnJlbnREb21haW4uaW5jbHVkZXMoJ1vnq5nngrkyXScpKSB7CiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpCiAgc2NyaXB0LnNyYyA9ICdodHRwczovL+S9oOeahOermeeCuS9zY3JpcHQuanMnCiAgc2NyaXB0LnNldEF0dHJpYnV0ZSgnZGF0YS13ZWJzaXRlLWlkJywgJ1vnq5nngrky55qE572R56uZSURdJykKICBzY3JpcHQuYXN5bmMgPSB0cnVlCiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpCiAgY29uc29sZS5sb2coJz09PT09PT095oiQ5Yqf5Yqg6L29IFvnq5nngrkyXSDnu5/orqHliIbmnpDlt6Xlhbfku6PnoIE9PT09PT09PScpCn0gZWxzZSB7CiAgLy8g5pys5Zyw6LCD6K+V5LiN6ZyA6KaB57uf6K6hCiAgY29uc29sZS5sb2coJz09PT09PT095b2T5YmN572R56uZ5LiN6ZyA6KaB5Yqg6L2957uf6K6h5YiG5p6Q5bel5YW3PT09PT09PT0nKQp9Cg==" defer></script><script>
  function simpleSetTheme() {
    let theme = localStorage.getItem('theme')
    // If undefined or 'system', get from system
    if (!theme || theme === 'system') {
      theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
    }
    document.documentElement.classList.toggle('dark', theme === 'dark')
    document
      .querySelector('meta[name="theme-color"]')
      ?.setAttribute('content', theme === 'dark' ? '#0B0B10' : '#FCFCFD')
  }
  simpleSetTheme()
  document.addEventListener('astro:page-load', () => simpleSetTheme())
</script><script type="module" src="/_astro/ThemeProvider.astro_astro_type_script_index_0_lang.suZL6u-L.js"></script><link rel="stylesheet" href="/_astro/index.DOBpogS1.css">
<link rel="stylesheet" href="/_astro/_id_.CVb4srxQ.css">
<link rel="stylesheet" href="/_astro/_id_.xOrx1S2_.css">
<link rel="stylesheet" href="/_astro/_id_.B6lZLyBl.css">
<style>@media(min-width:769px){#sidebar-shade:where(.astro-scuu7fyy){display:none!important}}@media(max-width:769px){aside:where(.astro-scuu7fyy).show{display:block!important;opacity:1}@keyframes fade-in-side{0%{transform:translate(50%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}aside:where(.astro-scuu7fyy){animation:.3s fade-in-side!important;animation-fill-mode:forwards;right:0;top:0!important;height:100vh!important;min-width:40vw!important;max-width:75vw!important;border-top-right-radius:0!important;border-bottom-right-radius:0!important;padding-top:1.5rem!important;padding-bottom:1.5rem!important}#sidebar-shade:where(.astro-scuu7fyy){animation:.3s fade-in}}@media(max-width:640px){aside:where(.astro-scuu7fyy){min-width:55vw!important}}
@keyframes pulsate{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.loading:where(.astro-x7wpzmhq) .load-block:where(.astro-x7wpzmhq){color:transparent;border-radius:calc(var(--radius) - 3px);background-color:hsl(var(--card) / var(--un-bg-opacity, 1));animation:pulsate 2s infinite linear;user-select:none}.loading:where(.astro-x7wpzmhq) .load-block:where(.astro-x7wpzmhq):nth-child(2){animation-delay:1s}.no-license:where(.astro-x7wpzmhq){opacity:.5}:where(.astro-x7wpzmhq):not(.loading) #gh-avatar:where(.astro-x7wpzmhq){background-color:hsl(var(--card) / var(--un-bg-opacity))}
</style>
<link rel="stylesheet" href="/_astro/index.Dh_0HW6A.css">
<style>:where([data-astro-image]){object-fit:var(--fit);object-position:var(--pos);height:auto}:where([data-astro-image=full-width]){width:100%}:where([data-astro-image=constrained]){max-width:100%}
.medium-zoom-overlay{position:fixed;inset:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:zoom-out;opacity:1;z-index:999}.medium-zoom-image{cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:zoom-out;will-change:transform;z-index:999}
.aside:where(.astro-x75cnk7d)>.aside-container:where(.astro-x75cnk7d){--un-bg-opacity: .07;&.aside-tip{--primary: 234 60% 60%}&.aside-caution{--primary: 41 90% 50%}&.aside-danger{--primary: 339 90% 60%}.aside-content{>:first-child{margin-top:0}>:last-child{margin-bottom:0}}}
svg:where(.astro-udet5etc){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1.5em;height:1.5em}
.expand-content:where(.astro-znbwadyx){grid-template-rows:0fr}.expanded:where(.astro-znbwadyx) .expand-content:where(.astro-znbwadyx){grid-template-rows:1fr}
.sl-steps{--bullet-size: 1.75rem ;--bullet-margin: .375rem;list-style:none!important;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0!important}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:.8125rem;font-weight:600;text-align:center;color:hsl(var(--foreground) / var(--un-text-opacity, 1));background-color:hsl(var(--card) / var(--un-bg-opacity, 1));border-radius:99rem;box-shadow:inset 0 0 0 1px hsl(var(--border) / var(--un-border-opacity, 1))}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:hsl(var(--border) / var(--un-border-opacity, 1))}.sl-steps>li>:first-child{--lh: 1.75em ;--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));margin-top:0;transform:translateY(var(--shift-y));margin-bottom:var(--shift-y);color:hsl(var(--foreground) / var(--un-text-opacity, 1))}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: 1.2em }
.spoiler:where(.astro-uaowncbv):not(:hover) *{color:inherit!important;background-color:transparent!important}
</style><script type="module" src="/_astro/page.B1D-nYk3.js"></script></head> <body class="flex justify-center bg-background text-foreground astro-37fxchfa" class="astro-scuu7fyy" style="--highlightColor: hsl(var(--primary) / var(--un-text-opacity));"> <div class="pointer-events-none fixed bottom-0 left-0 right-0 top-0 print:hidden" style="mask-image: radial-gradient(circle, transparent, black); -webkit-mask-image: radial-gradient(circle, transparent, black);"> <canvas id="artPlumCanvas" width="400" height="400"></canvas> </div> <script type="module">const b=Math.PI,M=Math.PI/2,x=Math.PI/12,v=30,k=6,m=()=>Math.random()*.6+.2,f=(t,i=400,o=400,r)=>{const n=t.getContext("2d");if(!n)throw new Error("Unable to get canvas context");const s=window.devicePixelRatio||1,h=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,c=s/h;return t.style.width=`${i}px`,t.style.height=`${o}px`,t.width=c*i,t.height=c*o,n.scale(c,c),{ctx:n,dpi:c}},R=(t=0,i=0,o=0,r=0)=>{const n=o*Math.cos(r),s=o*Math.sin(r);return[t+n,i+s]},g=document.getElementById("artPlumCanvas"),e={width:window.innerWidth,height:window.innerHeight},{ctx:d}=f(g,e.width,e.height);let a=[],w=[];const l=(t,i,o,r={value:0})=>{const n=Math.random()*k;r.value+=1;const[s,h]=R(t,i,n,o);d.beginPath(),d.moveTo(t,i),d.lineTo(s,h),d.stroke();const c=o+Math.random()*x,P=o-Math.random()*x;if(s<-100||s>e.width+100||h<-100||h>e.height+100)return;const p=r.value<=v?.8:.5;Math.random()<p&&a.push(()=>l(s,h,c,r)),Math.random()<p&&a.push(()=>l(s,h,P,r))},y=()=>{w=a,a=[],w.length&&(w.forEach(t=>{Math.random()<.5?a.push(t):t()}),requestAnimationFrame(y))},u=()=>{const{width:t,height:i}=g,n=`hsl(${getComputedStyle(document.documentElement).getPropertyValue("--primary").trim()} / 0.15)`;d.clearRect(0,0,t,i),d.lineWidth=1,d.strokeStyle=n,w=[],a=[()=>l(m()*e.width,-5,M),()=>l(m()*e.width,e.height+5,-M),()=>l(-5,m()*e.height,0),()=>l(e.width+5,m()*e.height,b)],e.width<500&&(a=a.slice(0,2)),requestAnimationFrame(y)};u();window.addEventListener("resize",()=>{window.innerWidth!==e.width&&(e.width=window.innerWidth,e.height=window.innerHeight,f(g,e.width,e.height),u())});const S=new MutationObserver(t=>{t.forEach(i=>{i.attributeName==="class"&&u()})});S.observe(document.documentElement,{attributes:!0});</script> <div id="highlight-gradient" class="pointer-events-none absolute start-0 top-0 z-0 h-screen w-full opacity-25 astro-37fxchfa" style="background-image:linear-gradient(hsl(var(--primary) / var(--un-text-opacity)),transparent); --highlightColor: hsl(var(--primary) / var(--un-text-opacity));"></div> <div id="main-container" class="w-full max-w-[70rem] min-h-[100dvh] flex flex-col justify-between astro-37fxchfa" style="--highlightColor: hsl(var(--primary) / var(--un-text-opacity));"> <header-component class="group sticky top-4 z-50 max-md:z-30 mb-12 flex items-center justify-between rounded-xl border border-transparent max-sm:py-1 sm:rounded-2xl astro-b5wftkml"> <a class="z-30 text-xl font-medium group-[.not-top]:ms-2 sm:group-[.not-top]:ms-3 astro-b5wftkml" style="transition:margin-inline 0.3s" href="/" aria-label="Brand">é’Ÿç¥ç§€ | ZSX&#39;s Blog</a> <div class="flex items-center gap-x-2 astro-b5wftkml">  <div id="headerExpandContent" class="end-0 start-0 top-12 grid border border-transparent group-[.not-top]:rounded-xl group-[.expanded]:opacity-100 dark:group-[.expanded.not-top]:bg-muted max-sm:absolute max-sm:opacity-0 max-sm:group-[.not-top]:border-border max-sm:group-[.expanded.not-top]:bg-background max-sm:group-[.not-top]:px-4 max-sm:group-[.not-top]:py-2 sm:grid-rows-1 astro-b5wftkml"> <div class="flex flex-col items-center justify-center overflow-hidden sm:flex-row astro-b5wftkml"> <a href="/blog" class="w-full flex-none grow py-2 text-right font-medium transition-none hover:text-primary sm:w-fit sm:px-3 astro-b5wftkml" aria-label="Nav menu item"> æ–‡ç«  </a><a href="/projects" class="w-full flex-none grow py-2 text-right font-medium transition-none hover:text-primary sm:w-fit sm:px-3 astro-b5wftkml" aria-label="Nav menu item"> é¡¹ç›® </a><a href="/links" class="w-full flex-none grow py-2 text-right font-medium transition-none hover:text-primary sm:w-fit sm:px-3 astro-b5wftkml" aria-label="Nav menu item"> å‹é“¾ </a><a href="/board" class="w-full flex-none grow py-2 text-right font-medium transition-none hover:text-primary sm:w-fit sm:px-3 astro-b5wftkml" aria-label="Nav menu item"> ç•™è¨€ </a><a href="/about" class="w-full flex-none grow py-2 text-right font-medium transition-none hover:text-primary sm:w-fit sm:px-3 astro-b5wftkml" aria-label="Nav menu item"> å…³äº </a> <div class="flex w-full grow flex-row justify-end gap-x-3 sm:w-fit sm:gap-x-5 astro-b5wftkml"> <a class="px-1 py-2 transition-none sm:px-2 astro-b5wftkml" href="/search" title="Search"> <span class="sr-only astro-b5wftkml">Search</span> <svg aria-hidden="true" class="size-5 astro-b5wftkml astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none" fill-rule="evenodd"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M5 10a5 5 0 1 1 10 0a5 5 0 0 1-10 0m5-7a7 7 0 1 0 4.192 12.606l5.1 5.101a1 1 0 0 0 1.415-1.414l-5.1-5.1A7 7 0 0 0 10 3"/></g></svg>  </a> </div> </div> </div>  <div class="z-30 flex gap-x-4 group-[.not-top]:gap-x-2 astro-b5wftkml" style="transition:gap 0.3s"> <button id="toggleDarkMode" class="group/dark box-content size-5 rounded-md border p-1.5 transition-colors hover:bg-border sm:group-[.not-top]:rounded-xl astro-b5wftkml"> <span class="sr-only astro-b5wftkml">Dark Theme</span> <svg aria-hidden="true" class="system size-5 group-hover/dark:text-primary astro-b5wftkml astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none" fill-rule="evenodd"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" fill-rule="nonzero" d="M19 3a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-4v1h1a1 1 0 1 1 0 2H8a1 1 0 1 1 0-2h1v-1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm-6 15h-2v1h2zm6-13H5v11h14z"/></g></svg>  <svg aria-hidden="true" class="light hidden size-5 group-hover/dark:text-primary astro-b5wftkml astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M12 19a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1m6.364-2.05l.707.707a1 1 0 0 1-1.414 1.414l-.707-.707a1 1 0 0 1 1.414-1.414m-12.728 0a1 1 0 0 1 1.497 1.32l-.083.094l-.707.707a1 1 0 0 1-1.497-1.32l.083-.094zM12 6a6 6 0 1 1 0 12a6 6 0 0 1 0-12m0 2a4 4 0 1 0 0 8a4 4 0 0 0 0-8m-8 3a1 1 0 0 1 .117 1.993L4 13H3a1 1 0 0 1-.117-1.993L3 11zm17 0a1 1 0 1 1 0 2h-1a1 1 0 1 1 0-2zM4.929 4.929a1 1 0 0 1 1.32-.083l.094.083l.707.707a1 1 0 0 1-1.32 1.497l-.094-.083l-.707-.707a1 1 0 0 1 0-1.414m14.142 0a1 1 0 0 1 0 1.414l-.707.707a1 1 0 1 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 0M12 2a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1"/></g></svg>  <svg aria-hidden="true" class="dark hidden size-5 group-hover/dark:text-primary astro-b5wftkml astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none" fill-rule="evenodd"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M12.477 4.546a1.01 1.01 0 0 1 1.097-1.409A9 9 0 0 1 12 21c-4.434 0-8.118-3.206-8.863-7.426a1.01 1.01 0 0 1 1.409-1.097a6 6 0 0 0 7.931-7.931m2.404 1.072a8 8 0 0 1-9.263 9.263A7.002 7.002 0 0 0 19 12.001a7 7 0 0 0-4.12-6.383ZM5.565 7.716l.064.14a3.26 3.26 0 0 0 1.237 1.363l.1.059a.068.068 0 0 1 0 .118l-.1.058a3.26 3.26 0 0 0-1.237 1.364l-.064.14a.071.071 0 0 1-.13 0l-.064-.14a3.26 3.26 0 0 0-1.237-1.364l-.1-.058a.068.068 0 0 1 0-.118l.1-.059A3.26 3.26 0 0 0 5.37 7.855l.064-.14a.071.071 0 0 1 .13 0Zm2.832-4.859c.04-.09.166-.09.206 0l.102.222a5.2 5.2 0 0 0 1.97 2.172l.157.092a.108.108 0 0 1 0 .189l-.158.092a5.2 5.2 0 0 0-2.07 2.394a.113.113 0 0 1-.207 0l-.102-.222a5.2 5.2 0 0 0-1.97-2.172l-.158-.092a.108.108 0 0 1 0-.189l.158-.092a5.2 5.2 0 0 0 1.97-2.172z"/></g></svg>  </button> <button id="toggleMenu" class="rounded-md border p-1.5 transition-colors hover:bg-border sm:hidden sm:group-[.not-top]:rounded-xl astro-b5wftkml"> <span class="sr-only astro-b5wftkml">Menu</span> <svg aria-hidden="true" class="size-5 astro-b5wftkml astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M20 18a1 1 0 0 1 .117 1.993L20 20H4a1 1 0 0 1-.117-1.993L4 18zm0-7a1 1 0 1 1 0 2H4a1 1 0 1 1 0-2zm0-7a1 1 0 1 1 0 2H4a1 1 0 0 1 0-2z"/></g></svg>  </button> </div> </div> </header-component>  <script>
  const toggleDarkModeElement = document.getElementById('toggleDarkMode')
  if (toggleDarkModeElement) {
    toggleDarkModeElement.dataset.theme = localStorage.getItem('theme') || 'system'
  }
</script> <script type="module" src="/_astro/Header.astro_astro_type_script_index_0_lang.CwScYy8Q.js"></script>  <div class="flex-1 w-full astro-37fxchfa" style="--highlightColor: hsl(var(--primary) / var(--un-text-opacity));">  <a class="group inline-flex items-center gap-x-1 rounded-lg bg-muted border px-2 py-1 text-sm text-muted-foreground transition-all hover:bg-card no-underline astro-scuu7fyy" href="/blog" data-astro-prefetch="true">  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="stroke-muted-foreground group-hover:stroke-primary"> <line x1="19" y1="12" x2="5" y2="12" class="translate-x-3 scale-x-0 transition-all duration-300 ease-in-out group-hover:translate-x-0 group-hover:scale-x-100"></line> <polyline points="12 19 5 12 12 5" class="translate-x-1 transition-all duration-300 ease-in-out group-hover:translate-x-0"></polyline> </svg>   <p class="my-0">Back</p>     </a> <main class="mt-6 items-start gap-x-10 md:flex astro-scuu7fyy">  <aside class="animate top-20 min-w-48 basis-60 overflow-y-scroll max-md:hidden z-40 fixed md:sticky md:order-2 lg:shrink-0 max-md:border max-md:px-4 max-md:py-3 max-md:bg-muted max-md:rounded-xl astro-scuu7fyy" style="height:calc(100vh - 7rem);" id="sidebar"> <toc-heading class=" astro-btewjcb6" slot="sidebar"> <h2 class="font-medium astro-btewjcb6">TABLE OF CONTENTS</h2> <ul class="mt-4 astro-btewjcb6"> <li> <div class="relative"> <span class="absolute top-[5%] w-[2px] rounded transition-colors duration-300 [&.highlight-bg]:bg-primary [&.is-read]:bg-border"></span> <a aria-label="Scroll to section: å‰è¨€" class="toc-item line-clamp-2 px-3 py-1 ms-2 text-foreground/75 transition-all hover:text-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.highlight-bg-translucent]:bg-muted" href="#å‰è¨€">å‰è¨€</a> </div> <ul> <li> <div class="relative"> <span class="absolute top-[5%] w-[2px] rounded transition-colors duration-300 [&.highlight-bg]:bg-primary [&.is-read]:bg-border"></span> <a aria-label="Scroll to section: æµç¨‹" class="toc-item line-clamp-2 px-3 py-1 ms-2 text-foreground/75 transition-all hover:text-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.highlight-bg-translucent]:bg-muted ps-7" href="#æµç¨‹">æµç¨‹</a> </div>  </li> </ul> </li><li> <div class="relative"> <span class="absolute top-[5%] w-[2px] rounded transition-colors duration-300 [&.highlight-bg]:bg-primary [&.is-read]:bg-border"></span> <a aria-label="Scroll to section: å¼•å…¥" class="toc-item line-clamp-2 px-3 py-1 ms-2 text-foreground/75 transition-all hover:text-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.highlight-bg-translucent]:bg-muted" href="#å¼•å…¥">å¼•å…¥</a> </div> <ul> <li> <div class="relative"> <span class="absolute top-[5%] w-[2px] rounded transition-colors duration-300 [&.highlight-bg]:bg-primary [&.is-read]:bg-border"></span> <a aria-label="Scroll to section: check-links.tsæ–‡ä»¶" class="toc-item line-clamp-2 px-3 py-1 ms-2 text-foreground/75 transition-all hover:text-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.highlight-bg-translucent]:bg-muted ps-7" href="#check-linkstsæ–‡ä»¶">check-links.tsæ–‡ä»¶</a> </div>  </li><li> <div class="relative"> <span class="absolute top-[5%] w-[2px] rounded transition-colors duration-300 [&.highlight-bg]:bg-primary [&.is-read]:bg-border"></span> <a aria-label="Scroll to section: check-links.ymlæ–‡ä»¶" class="toc-item line-clamp-2 px-3 py-1 ms-2 text-foreground/75 transition-all hover:text-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.highlight-bg-translucent]:bg-muted ps-7" href="#check-linksymlæ–‡ä»¶">check-links.ymlæ–‡ä»¶</a> </div>  </li> </ul> </li><li> <div class="relative"> <span class="absolute top-[5%] w-[2px] rounded transition-colors duration-300 [&.highlight-bg]:bg-primary [&.is-read]:bg-border"></span> <a aria-label="Scroll to section: å‰ç«¯æ¸²æŸ“" class="toc-item line-clamp-2 px-3 py-1 ms-2 text-foreground/75 transition-all hover:text-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.highlight-bg-translucent]:bg-muted" href="#å‰ç«¯æ¸²æŸ“">å‰ç«¯æ¸²æŸ“</a> </div>  </li><li> <div class="relative"> <span class="absolute top-[5%] w-[2px] rounded transition-colors duration-300 [&.highlight-bg]:bg-primary [&.is-read]:bg-border"></span> <a aria-label="Scroll to section: ä½¿ç”¨" class="toc-item line-clamp-2 px-3 py-1 ms-2 text-foreground/75 transition-all hover:text-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.highlight-bg-translucent]:bg-muted" href="#ä½¿ç”¨">ä½¿ç”¨</a> </div>  </li> </ul> </toc-heading> <script type="module">class L extends HTMLElement{headings=[];tocLinks=[];headingProgress={};constructor(){super(),this.tocLinks=Array.from(this.querySelectorAll('a[href^="#"]')).map(s=>({element:s,progressBar:s.previousElementSibling,slug:(s.getAttribute("href")||"").substring(1)}))}updateHeadings(){this.headings=Array.from(document.querySelectorAll("article h1, article h2, article h3, article h4, article h5, article h6"))}updatePositionAndStyle=()=>{this.updateHeadings();const s=window.innerHeight,i=document.querySelector("#content");if(!i)return;const o=i.getBoundingClientRect().top+window.scrollY,c=i.offsetHeight;this.tocLinks.forEach(({slug:t})=>{this.headingProgress[t]={inView:!1,progress:0}}),this.headings.forEach((t,g)=>{if(!t.id)return;const a=t.getBoundingClientRect(),n=a.top+window.scrollY,l=a.bottom+window.scrollY,e=this.headings[g+1],h=e?e.getBoundingClientRect().top+window.scrollY:o+c,d=n-o,w=h-o-d,u=window.scrollY-o,p=u+s,f=n<p&&l>u,m=Math.max(0,Math.min(1,(p-d)/w));this.headingProgress[t.id]={inView:f,progress:m}}),this.tocLinks.forEach(({element:t,progressBar:g,slug:a},n)=>{const l=this.headingProgress[a]||{inView:!1,progress:0},{inView:e,progress:h}=l;t.classList.toggle("highlight",e),t.classList.toggle("highlight-bg-translucent",e),t.classList.toggle("rounded-t-2xl",e&&(n===0||!this.headingProgress[this.tocLinks[n-1]?.slug]?.inView)),t.classList.toggle("rounded-b-2xl",e&&(n===this.tocLinks.length-1||!this.headingProgress[this.tocLinks[n+1]?.slug]?.inView)),g.classList.toggle("is-read",!e&&h===1),g.classList.toggle("highlight-bg",e),g.style.setProperty("height",`${h*90}%`)})};connectedCallback(){this.tocLinks.forEach(r=>{r.element.addEventListener("click",o=>{o.preventDefault();const c=this.headings.find(t=>t.id===r.slug);c?(history.pushState(null,c.textContent||"",r.element.getAttribute("href")),c.scrollIntoView({behavior:"smooth"})):console.warn(`No heading found for slug: ${r.slug}`)})}),this.updateHeadings(),this.updatePositionAndStyle(),setInterval(this.updatePositionAndStyle,100),window.addEventListener("scroll",this.updatePositionAndStyle);const s=new MutationObserver(()=>{this.updateHeadings(),this.updatePositionAndStyle()}),i=document.querySelector("article");i&&s.observe(i,{childList:!0,subtree:!0})}}customElements.define("toc-heading",L);</script>  </aside> <div id="sidebar-shade" class="fixed top-0 start-0 w-full h-full astro-scuu7fyy" style="display:none;background-color:#00000091;z-index:31"></div> <article class="min-w-0 grow astro-scuu7fyy">  <div id="content-header" class="animate astro-scuu7fyy"> <div class="hero-image relative mb-6 astro-dzhm7s2a"><img src="/_astro/cover.Bbhm6CY2_25xzmR.webp" alt="an image targetting my article" fetchpriority="high" loading="eager" decoding="async" width="1600" height="900" class="cover-image relative z-10 h-auto w-full max-w-[65ch] rounded-2xl object-contain astro-dzhm7s2a"><img src="/_astro/cover.Bbhm6CY2_25xzmR.webp" alt="an image targetting my article" fetchpriority="high" loading="eager" id="blurImage" decoding="async" width="1600" height="900" class="absolute end-0 top-4 z-0 mt-0 h-full max-w-[65ch] rounded-3xl opacity-60 transition-opacity duration-300 astro-dzhm7s2a"></div><div class="article-info max-lg:mx-auto astro-dzhm7s2a"> <div class="flex flex-wrap gap-x-4 gap-y-2 text-xs leading-6 text-muted-foreground astro-dzhm7s2a">  <div class="flex items-center gap-1 astro-dzhm7s2a"> <svg aria-hidden="true" class="size-5 astro-dzhm7s2a astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none" fill-rule="evenodd"><path d="m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M16 3a1 1 0 0 1 1 1v1h2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2V4a1 1 0 0 1 2 0v1h6V4a1 1 0 0 1 1-1M8 7H5v2h14V7h-3zm-3 4v8h14v-8zm2 2a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1m1 2a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2zm3-2a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1m1 2a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2zm3-2a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H16a1 1 0 0 1-1-1m1 2a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2z"/></g></svg>  <span class="text-muted-foreground font-mono font-sans astro-dzhm7s2a"> <time datetime="2025-12-31T00:00:00.000Z"> Dec 31, 2025 </time> </span>  </div>  <div class="flex items-center gap-1 astro-dzhm7s2a"> <svg aria-hidden="true" class="size-5 astro-dzhm7s2a astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2m0 2a8 8 0 1 0 0 16a8 8 0 0 0 0-16m0 2a1 1 0 0 1 .993.883L13 7v4.586l2.707 2.707a1 1 0 0 1-1.32 1.497l-.094-.083l-3-3a1 1 0 0 1-.284-.576L11 12V7a1 1 0 0 1 1-1"/></g></svg>  10 min </div>  <span class="flex items-center gap-1 astro-dzhm7s2a"> <svg aria-hidden="true" class="size-5 astro-dzhm7s2a astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none" fill-rule="evenodd"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M10.124 3.008a1 1 0 0 1 .868 1.116L10.508 8h3.984l.516-4.124a1 1 0 1 1 1.984.248L16.508 8H20a1 1 0 1 1 0 2h-3.742l-.5 4H19.5a1 1 0 1 1 0 2h-3.992l-.516 4.124a1 1 0 1 1-1.984-.248L13.492 16H9.508l-.516 4.124a1 1 0 1 1-1.984-.248L7.492 16H4.5a1 1 0 1 1 0-2h3.242l.5-4H5a1 1 0 0 1 0-2h3.492l.516-4.124a1 1 0 0 1 1.116-.868M13.742 14l.5-4h-3.984l-.5 4z"/></g></svg>  <div class="astro-dzhm7s2a"> <a aria-label="View more blogs with the tag ä¸»é¢˜é­”æ”¹" class="hover:underline hover:underline-offset-4 astro-dzhm7s2a" data-pagefind-filter="tag" href="/tags/ä¸»é¢˜é­”æ”¹"> ä¸»é¢˜é­”æ”¹ </a> / </div><div class="astro-dzhm7s2a"> <a aria-label="View more blogs with the tag typescript" class="hover:underline hover:underline-offset-4 astro-dzhm7s2a" data-pagefind-filter="tag" href="/tags/typescript"> typescript </a> / </div><div class="astro-dzhm7s2a"> <a aria-label="View more blogs with the tag github" class="hover:underline hover:underline-offset-4 astro-dzhm7s2a" data-pagefind-filter="tag" href="/tags/github"> github </a> / </div><div class="astro-dzhm7s2a"> <a aria-label="View more blogs with the tag css" class="hover:underline hover:underline-offset-4 astro-dzhm7s2a" data-pagefind-filter="tag" href="/tags/css"> css </a>  </div> </span> </div> <h1 class="mt-4 text-2xl font-medium sm:mb-2 sm:mt-6 sm:text-3xl astro-dzhm7s2a"> è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹ </h1> <div class="mt-3 italic astro-dzhm7s2a"> <blockquote class="text-sm text-muted-foreground astro-dzhm7s2a"><q class="astro-dzhm7s2a">åˆ©ç”¨ GitHub Actions è¿›è¡Œè‡ªåŠ¨å‹é“¾æ£€æ´»</q></blockquote> <div class="text-base text-sm text-muted-foreground mt-1"> <span class="waline-pageview-count" data-path="/blog/auto-check-links/"></span> æµè§ˆ
 | <a href="#waline"> <span class="waline-comment-count" data-path="/blog/auto-check-links/"></span> è¯„è®º
</a>  </div>  </div> </div>  <div class="mt-4 w-1/2 border-t max-md:mx-auto sm:mt-6 sm:w-1/3 astro-dzhm7s2a"></div> <script type="module">const o=window.innerHeight,s=o/9,i=o*2/9,l=o*3/9,e=document.getElementById("blurImage");e&&window.addEventListener("scroll",()=>{const t=window.scrollY;t>=l?e.style.opacity="0.15":t>=i?e.style.opacity="0.3":t>=s&&(e.style.opacity="0.45")});</script>  </div>  <div id="content" class="max-w-none animate mt-8 md:min-w-[45ch] overflow-x-hidden prose text-base astro-scuu7fyy">  <div class="aisummary-container"> <div class="aisummary-title"> <i class="aisummary-title-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"> <title>æœºå™¨äºº</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M34.717885,5.03561087 C36.12744,5.27055371 37.079755,6.60373651 36.84481,8.0132786 L35.7944,14.3153359 L38.375,14.3153359 C43.138415,14.3153359 47,18.1768855 47,22.9402569 L47,34.4401516 C47,39.203523 43.138415,43.0650727 38.375,43.0650727 L9.625,43.0650727 C4.861585,43.0650727 1,39.203523 1,34.4401516 L1,22.9402569 C1,18.1768855 4.861585,14.3153359 9.625,14.3153359 L12.2056,14.3153359 L11.15519,8.0132786 C10.920245,6.60373651 11.87256,5.27055371 13.282115,5.03561087 C14.69167,4.80066802 16.024865,5.7529743 16.25981,7.16251639 L17.40981,14.0624532 C17.423955,14.1470924 17.43373,14.2315017 17.43948,14.3153359 L30.56052,14.3153359 C30.56627,14.2313867 30.576045,14.1470924 30.59019,14.0624532 L31.74019,7.16251639 C31.975135,5.7529743 33.30833,4.80066802 34.717885,5.03561087 Z M38.375,19.4902885 L9.625,19.4902885 C7.719565,19.4902885 6.175,21.0348394 6.175,22.9402569 L6.175,34.4401516 C6.175,36.3455692 7.719565,37.89012 9.625,37.89012 L38.375,37.89012 C40.280435,37.89012 41.825,36.3455692 41.825,34.4401516 L41.825,22.9402569 C41.825,21.0348394 40.280435,19.4902885 38.375,19.4902885 Z M14.8575,23.802749 C16.28649,23.802749 17.445,24.9612484 17.445,26.3902253 L17.445,28.6902043 C17.445,30.1191812 16.28649,31.2776806 14.8575,31.2776806 C13.42851,31.2776806 12.27,30.1191812 12.27,28.6902043 L12.27,26.3902253 C12.27,24.9612484 13.42851,23.802749 14.8575,23.802749 Z M33.1425,23.802749 C34.57149,23.802749 35.73,24.9612484 35.73,26.3902253 L35.73,28.6902043 C35.73,30.1191812 34.57149,31.2776806 33.1425,31.2776806 C31.71351,31.2776806 30.555,30.1191812 30.555,28.6902043 L30.555,26.3902253 C30.555,24.9612484 31.71351,23.802749 33.1425,23.802749 Z" fill="#444444" fill-rule="nonzero"></path> </g> </svg> </i> <div class="aisummary-title-text">Li's AI Summary</div> <div class="aisummary-tag" id="aisummary-tag">
Li's AI
</div> </div> <div class="aisummary-explanation" data-ai-summary="æ–‡ç« ä»‹ç»äº†è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹çš„æµç¨‹ï¼ŒåŒ…æ‹¬åˆ›å»ºcheck-links.tsæ–‡ä»¶ã€é…ç½®ç›¸å…³å‚æ•°ä»¥åŠå®ç°å‹é“¾çŠ¶æ€æ£€æµ‹ã€‚åŒæ—¶ï¼Œè¿˜æåˆ°äº†GitHub Actionsä¸­çš„Friend Links CheckåŠŸèƒ½ï¼Œå¯ä»¥æ¯å¤©å›ºå®šæ—¶é—´è¿è¡Œæˆ–åœ¨links.jsonæ›´æ–°æ—¶è‡ªåŠ¨è¿è¡Œã€‚"> æ–‡ç« ä»‹ç»äº†è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹çš„æµç¨‹ï¼ŒåŒ…æ‹¬åˆ›å»ºcheck-links.tsæ–‡ä»¶ã€é…ç½®ç›¸å…³å‚æ•°ä»¥åŠå®ç°å‹é“¾çŠ¶æ€æ£€æµ‹ã€‚åŒæ—¶ï¼Œè¿˜æåˆ°äº†GitHub Actionsä¸­çš„Friend Links CheckåŠŸèƒ½ï¼Œå¯ä»¥æ¯å¤©å›ºå®šæ—¶é—´è¿è¡Œæˆ–åœ¨links.jsonæ›´æ–°æ—¶è‡ªåŠ¨è¿è¡Œã€‚ </div> <div class="aisummary-disclaimer">æœ¬æ‘˜è¦ç”±AIç”Ÿæˆï¼Œä»…ä¾›å‚è€ƒï¼Œå†…å®¹å‡†ç¡®æ€§è¯·ä»¥åŸæ–‡ä¸ºå‡†</div> </div> <h2 id="å‰è¨€">å‰è¨€<a class="anchor" href="#å‰è¨€">#</a></h2>
<p>æœ€è¿‘æ”¾å‡é—²ç€æ²¡äº‹å¹²ï¼ŒæŠ½äº†ç‚¹æ—¶é—´å®Œå–„äº†ä¸‹å‹é“¾æ–¹é¢çš„æ£€æµ‹ï¼Œç°åœ¨å¯ä»¥æ›´æ¸…æ¥šåœ°çœ‹åˆ°æœ‹å‹ä»¬çš„ <a href="/links">ç«™ç‚¹çŠ¶æ€</a> äº†ï¼ä¸è¿‡è¿˜æœ‰ç‚¹ä¸è¶³, åªæ£€æµ‹äº†çŠ¶æ€ï¼Œå¹¶æ²¡æœ‰åšåˆ°é€šçŸ¥æ–¹é¢çš„åŠŸèƒ½ï¼Œå®ç°æ–¹å¼ä¹Ÿæ¯”è¾ƒæ½¦è‰ï¼Œåç»­ä¼šä¸æ–­å®Œå–„æ»´ï¼</p>
<h3 id="æµç¨‹">æµç¨‹<a class="anchor" href="#æµç¨‹">#</a></h3>
<p>ç®€å•ç”»äº†ä¸ªè¿è¡Œçš„æµç¨‹å›¾ğŸ˜‹</p>
<p><img src="https://tc.ljx.icu/file/3l5dWlk3.svg" alt="check-links" title="ç®€æ˜“æµç¨‹è‰å›¾" class="zoomable"></p>
<h2 id="å¼•å…¥">å¼•å…¥<a class="anchor" href="#å¼•å…¥">#</a></h2>
<h3 id="check-linkstsæ–‡ä»¶">check-links.tsæ–‡ä»¶<a class="anchor" href="#check-linkstsæ–‡ä»¶">#</a></h3>
<p>åˆ›å»º <code>scripts/check-links.ts</code> æ–‡ä»¶å¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="astro-code astro-code-themes github-light github-dark collapsed" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="ts"><div class="title text-sm text-muted-foreground px-3 py-1 rounded-lg border">check-links.ts</div><pre><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> fs </span><span style="color:#D73A49;--shiki-dark:#F97583">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'node:fs/promises'</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> path </span><span style="color:#D73A49;--shiki-dark:#F97583">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'node:path'</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> pLimit </span><span style="color:#D73A49;--shiki-dark:#F97583">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'p-limit'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> links </span><span style="color:#D73A49;--shiki-dark:#F97583">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> '../public/links.json'</span><span style="color:#D73A49;--shiki-dark:#F97583"> with</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { type: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'json'</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> DATA_PATH</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> path.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">resolve</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'public/links.json'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> CHECK_TIMEOUT</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 15000</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> PLimit_NUM</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 5</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> MAX_RETRIES</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 3</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> RETRY_DELAY</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 1000</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> SKIP_CHECK_NAMES</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="color:#032F62;--shiki-dark:#9ECBFF">''</span><span style="color:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">interface</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> FriendLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  name</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  link</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  responseTime</span><span style="color:#D73A49;--shiki-dark:#F97583">?:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> number</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">interface</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> FriendGroup</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  id_name</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'cf-links'</span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'inactive-links'</span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'special-links'</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  link_list</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> FriendLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8">[]</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">interface</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> FriendLinksConfig</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  friends</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> FriendGroup</span><span style="color:#24292E;--shiki-dark:#E1E4E8">[]</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">type</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> LinkStatus</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'ok'</span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'timeout'</span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'error'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">interface</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> LinkCheckResult</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  name</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  link</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  status</span><span style="color:#D73A49;--shiki-dark:#F97583">?:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> LinkStatus</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  httpStatus</span><span style="color:#D73A49;--shiki-dark:#F97583">?:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> number</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  responseTime</span><span style="color:#D73A49;--shiki-dark:#F97583">?:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> number</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  reason</span><span style="color:#D73A49;--shiki-dark:#F97583">?:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">async</span><span style="color:#D73A49;--shiki-dark:#F97583"> function</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">url</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> controller</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> new</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> AbortController</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> timer</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> setTimeout</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> controller.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">abort</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(), </span><span style="color:#005CC5;--shiki-dark:#79B8FF">CHECK_TIMEOUT</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  try</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> start</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> Date.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">now</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> res</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetch</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(url, {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      method: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'HEAD'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      signal: controller.signal,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      redirect: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'follow'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      cache: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'no-store'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      headers: { </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'User-Agent'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'Mozilla/5.0 FriendLinkChecker/1.0'</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    })</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> time</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> Date.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">now</span><span style="color:#24292E;--shiki-dark:#E1E4E8">() </span><span style="color:#D73A49;--shiki-dark:#F97583">-</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> start</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    return</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      ok: res.ok,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      status: res.status,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      time</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  } </span><span style="color:#D73A49;--shiki-dark:#F97583">finally</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">    clearTimeout</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(timer)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> ENV_SKIP_NAMES</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> process.env.</span><span style="color:#005CC5;--shiki-dark:#79B8FF">SKIP_CHECK_NAMES</span><span style="color:#24292E;--shiki-dark:#E1E4E8">?.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">split</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">','</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">||</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> []</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> SKIP_NAMES</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> new</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">  SKIP_CHECK_NAMES</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">concat</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">ENV_SKIP_NAMES</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">map</span><span style="color:#24292E;--shiki-dark:#E1E4E8">((</span><span style="color:#E36209;--shiki-dark:#FFAB70">s</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> s.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">trim</span><span style="color:#24292E;--shiki-dark:#E1E4E8">())</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">filter</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(Boolean)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">async</span><span style="color:#D73A49;--shiki-dark:#F97583"> function</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> checkLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">link</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> FriendLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#6F42C1;--shiki-dark:#B392F0">LinkCheckResult</span><span style="color:#24292E;--shiki-dark:#E1E4E8">> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#005CC5;--shiki-dark:#79B8FF">SKIP_NAMES</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">has</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(link.name)) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`[Check-Links] ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">link</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">} (${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">link</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">link</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}) skipped ğŸ§¹`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    return</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      name: link.name,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      link: link.link,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      status: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'ok'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      reason: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'skip_check'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      responseTime: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  let</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> lastError</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Error</span><span style="color:#D73A49;--shiki-dark:#F97583"> |</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> null</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> null</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  for</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">let</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> i </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#24292E;--shiki-dark:#E1E4E8">; i </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> MAX_RETRIES</span><span style="color:#24292E;--shiki-dark:#E1E4E8">; i</span><span style="color:#D73A49;--shiki-dark:#F97583">++</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    try</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">      const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> res</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(link.link)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`[Check-Links] ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">link</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">} responded in ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">res</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">time</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}ms âœ¨`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">!</span><span style="color:#24292E;--shiki-dark:#E1E4E8">res.ok) </span><span style="color:#D73A49;--shiki-dark:#F97583">throw</span><span style="color:#D73A49;--shiki-dark:#F97583"> new</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Error</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`HTTP ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">res</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">status</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">      return</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        name: link.name,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        link: link.link,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        status: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'ok'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        httpStatus: res.status,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        responseTime: res.time</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    } </span><span style="color:#D73A49;--shiki-dark:#F97583">catch</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#E36209;--shiki-dark:#FFAB70">e</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> unknown</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      lastError </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> e </span><span style="color:#D73A49;--shiki-dark:#F97583">instanceof</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Error</span><span style="color:#D73A49;--shiki-dark:#F97583"> ?</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> e </span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#D73A49;--shiki-dark:#F97583"> new</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Error</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">String</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(e))</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (i </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> MAX_RETRIES</span><span style="color:#D73A49;--shiki-dark:#F97583"> -</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> delay</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> RETRY_DELAY</span><span style="color:#D73A49;--shiki-dark:#F97583"> *</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 2</span><span style="color:#D73A49;--shiki-dark:#F97583"> **</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> i </span><span style="color:#D73A49;--shiki-dark:#F97583">+</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> Math.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">floor</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(Math.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">random</span><span style="color:#24292E;--shiki-dark:#E1E4E8">() </span><span style="color:#D73A49;--shiki-dark:#F97583">*</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 100</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">warn</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">          `[Check-Links] Retry attempt (${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">i</span><span style="color:#D73A49;--shiki-dark:#F97583"> +</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 1</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}/${</span><span style="color:#005CC5;--shiki-dark:#79B8FF">MAX_RETRIES</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}) for ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">link</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">} after ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">delay</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}ms due to: ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">lastError</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">message</span><span style="color:#032F62;--shiki-dark:#9ECBFF">} ğŸ˜­`</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        )</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        await</span><span style="color:#D73A49;--shiki-dark:#F97583"> new</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> Promise</span><span style="color:#24292E;--shiki-dark:#E1E4E8">((</span><span style="color:#E36209;--shiki-dark:#FFAB70">resolve</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> setTimeout</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(resolve, delay))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    name: link.name,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    link: link.link,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    status: lastError?.name </span><span style="color:#D73A49;--shiki-dark:#F97583">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'AbortError'</span><span style="color:#D73A49;--shiki-dark:#F97583"> ?</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'timeout'</span><span style="color:#D73A49;--shiki-dark:#F97583"> :</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'error'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    reason: lastError?.message,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    responseTime: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">async</span><span style="color:#D73A49;--shiki-dark:#F97583"> function</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> main</span><span style="color:#24292E;--shiki-dark:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'[Check-Links] Start checking friend links... â¤ï¸'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> config</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> links </span><span style="color:#D73A49;--shiki-dark:#F97583">as</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> FriendLinksConfig</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> limit</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> pLimit</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(PLimit_NUM)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> tasks</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> config.friends</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">filter</span><span style="color:#24292E;--shiki-dark:#E1E4E8">((</span><span style="color:#E36209;--shiki-dark:#FFAB70">g</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> g.id_name </span><span style="color:#D73A49;--shiki-dark:#F97583">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'cf-links'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">flatMap</span><span style="color:#24292E;--shiki-dark:#E1E4E8">((</span><span style="color:#E36209;--shiki-dark:#FFAB70">group</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> group.link_list.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">map</span><span style="color:#24292E;--shiki-dark:#E1E4E8">((</span><span style="color:#E36209;--shiki-dark:#FFAB70">link</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> limit</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> checkLink</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(link))))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> results</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> Promise</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">allSettled</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(tasks)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> linkMap</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> new</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Map</span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#79B8FF">string</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#6F42C1;--shiki-dark:#B392F0">LinkCheckResult</span><span style="color:#24292E;--shiki-dark:#E1E4E8">>()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  for</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> r</span><span style="color:#D73A49;--shiki-dark:#F97583"> of</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> results) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (r.status </span><span style="color:#D73A49;--shiki-dark:#F97583">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'fulfilled'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      linkMap.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">set</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(r.value.link, r.value)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    } </span><span style="color:#D73A49;--shiki-dark:#F97583">else</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">error</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`[Check-Links] Unexpected error (${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">r</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">reason</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}) ğŸ¤”`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  for</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> group</span><span style="color:#D73A49;--shiki-dark:#F97583"> of</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> config.friends) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    for</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> link</span><span style="color:#D73A49;--shiki-dark:#F97583"> of</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> group.link_list) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">      const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> res</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> linkMap.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">get</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(link.link)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (res) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        link.responseTime </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> res.responseTime </span><span style="color:#D73A49;--shiki-dark:#F97583">??</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> fs.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">writeFile</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">DATA_PATH</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(config, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> failed</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> Array.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">from</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(linkMap.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">values</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()).</span><span style="color:#6F42C1;--shiki-dark:#B392F0">filter</span><span style="color:#24292E;--shiki-dark:#E1E4E8">((</span><span style="color:#E36209;--shiki-dark:#FFAB70">r</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> r.status </span><span style="color:#D73A49;--shiki-dark:#F97583">!==</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'ok'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (failed.</span><span style="color:#005CC5;--shiki-dark:#79B8FF">length</span><span style="color:#D73A49;--shiki-dark:#F97583"> ></span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">error</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      `[Check-Links] Friend link check failed (${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">failed</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#005CC5;--shiki-dark:#79B8FF">length</span><span style="color:#032F62;--shiki-dark:#9ECBFF">} inactive links checked) ğŸ˜¡:`</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    )</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    for</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> f</span><span style="color:#D73A49;--shiki-dark:#F97583"> of</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> failed) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">error</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        `[Check-Links] - ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">f</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">} (${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">f</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">link</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}) => ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">f</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">status</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        f.reason </span><span style="color:#D73A49;--shiki-dark:#F97583">?</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> ` | ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">f</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">reason</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#D73A49;--shiki-dark:#F97583"> :</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> ''</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      )</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    process.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">exit</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">1</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    `[Check-Links] All links are healthy and responseTime updated (${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">results</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#005CC5;--shiki-dark:#79B8FF">length</span><span style="color:#032F62;--shiki-dark:#9ECBFF">} links checked) ğŸ˜‹`</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  )</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">main</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line"></span></code></pre><span class="language ps-1 pe-3 text-sm bg-muted text-muted-foreground">ts</span><button class="copy text-muted-foreground p-1 box-content border rounded-lg bg-card" aria-label="Copy code" data-code="import fs from &#x27;node:fs/promises&#x27;
import path from &#x27;node:path&#x27;
import pLimit from &#x27;p-limit&#x27;

import links from &#x27;../public/links.json&#x27; with { type: &#x27;json&#x27; }

const DATA_PATH = path.resolve(&#x27;public/links.json&#x27;)
const CHECK_TIMEOUT = 15000
const PLimit_NUM = 5
const MAX_RETRIES = 3
const RETRY_DELAY = 1000
const SKIP_CHECK_NAMES = [&#x27;&#x27;]

interface FriendLink {
  name: string
  link: string
  responseTime?: number
}

interface FriendGroup {
  id_name: &#x27;cf-links&#x27; | &#x27;inactive-links&#x27; | &#x27;special-links&#x27;
  link_list: FriendLink[]
}

interface FriendLinksConfig {
  friends: FriendGroup[]
}

type LinkStatus = &#x27;ok&#x27; | &#x27;timeout&#x27; | &#x27;error&#x27;

interface LinkCheckResult {
  name: string
  link: string
  status?: LinkStatus
  httpStatus?: number
  responseTime?: number
  reason?: string
}

async function fetchLink(url: string) {
  const controller = new AbortController()
  const timer = setTimeout(() => controller.abort(), CHECK_TIMEOUT)

  try {
    const start = Date.now()
    const res = await fetch(url, {
      method: &#x27;HEAD&#x27;,
      signal: controller.signal,
      redirect: &#x27;follow&#x27;,
      cache: &#x27;no-store&#x27;,
      headers: { &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 FriendLinkChecker/1.0&#x27; }
    })
    const time = Date.now() - start

    return {
      ok: res.ok,
      status: res.status,
      time
    }
  } finally {
    clearTimeout(timer)
  }
}

const ENV_SKIP_NAMES = process.env.SKIP_CHECK_NAMES?.split(&#x27;,&#x27;) || []
const SKIP_NAMES = new Set(
  SKIP_CHECK_NAMES.concat(ENV_SKIP_NAMES)
    .map((s) => s.trim())
    .filter(Boolean)
)
async function checkLink(link: FriendLink): Promise<LinkCheckResult> {
  if (SKIP_NAMES.has(link.name)) {
    console.log(&#x60;[Check-Links] ${link.name} (${link.link}) skipped ğŸ§¹&#x60;)
    return {
      name: link.name,
      link: link.link,
      status: &#x27;ok&#x27;,
      reason: &#x27;skip_check&#x27;,
      responseTime: 0
    }
  }

  let lastError: Error | null = null

  for (let i = 0; i < MAX_RETRIES; i++) {
    try {
      const res = await fetchLink(link.link)
      console.log(&#x60;[Check-Links] ${link.name} responded in ${res.time}ms âœ¨&#x60;)

      if (!res.ok) throw new Error(&#x60;HTTP ${res.status}&#x60;)

      return {
        name: link.name,
        link: link.link,
        status: &#x27;ok&#x27;,
        httpStatus: res.status,
        responseTime: res.time
      }
    } catch (e: unknown) {
      lastError = e instanceof Error ? e : new Error(String(e))
      if (i < MAX_RETRIES - 1) {
        const delay = RETRY_DELAY * 2 ** i + Math.floor(Math.random() * 100)
        console.warn(
          &#x60;[Check-Links] Retry attempt (${i + 1}/${MAX_RETRIES}) for ${link.name} after ${delay}ms due to: ${lastError.message} ğŸ˜­&#x60;
        )
        await new Promise((resolve) => setTimeout(resolve, delay))
      }
    }
  }

  return {
    name: link.name,
    link: link.link,
    status: lastError?.name === &#x27;AbortError&#x27; ? &#x27;timeout&#x27; : &#x27;error&#x27;,
    reason: lastError?.message,
    responseTime: 0
  }
}

async function main() {
  console.log(&#x27;[Check-Links] Start checking friend links... â¤ï¸&#x27;)

  const config = links as FriendLinksConfig
  const limit = pLimit(PLimit_NUM)

  const tasks = config.friends
    .filter((g) => g.id_name === &#x27;cf-links&#x27;)
    .flatMap((group) => group.link_list.map((link) => limit(() => checkLink(link))))

  const results = await Promise.allSettled(tasks)

  const linkMap = new Map<string, LinkCheckResult>()

  for (const r of results) {
    if (r.status === &#x27;fulfilled&#x27;) {
      linkMap.set(r.value.link, r.value)
    } else {
      console.error(&#x60;[Check-Links] Unexpected error (${r.reason}) ğŸ¤”&#x60;)
    }
  }
  for (const group of config.friends) {
    for (const link of group.link_list) {
      const res = linkMap.get(link.link)
      if (res) {
        link.responseTime = res.responseTime ?? 0
      }
    }
  }

  await fs.writeFile(DATA_PATH, JSON.stringify(config, null, 2))

  const failed = Array.from(linkMap.values()).filter((r) => r.status !== &#x27;ok&#x27;)
  if (failed.length > 0) {
    console.error(
      &#x60;[Check-Links] Friend link check failed (${failed.length} inactive links checked) ğŸ˜¡:&#x60;
    )
    for (const f of failed) {
      console.error(
        &#x60;[Check-Links] - ${f.name} (${f.link}) => ${f.status}&#x60;,
        f.reason ? &#x60; | ${f.reason}&#x60; : &#x27;&#x27;
      )
    }
    process.exit(1)
  }

  console.log(
    &#x60;[Check-Links] All links are healthy and responseTime updated (${results.length} links checked) ğŸ˜‹&#x60;
  )
}

main()
" onclick="
          navigator.clipboard.writeText(this.dataset.code);
          this.classList.add(&#x27;copied&#x27;);
          setTimeout(() => this.classList.remove(&#x27;copied&#x27;), 2000)
        "><div class="ready"><svg class="size-5"><use href="/icons/code.svg#mingcute-clipboard-line"></use></svg></div><div class="success hidden"><svg class="size-5"><use href="/icons/code.svg#mingcute-file-check-line"></use></svg></div></button><button class="collapse-toggle bg-card text-muted-foreground rounded-lg m-2" aria-label="Toggle collapse code block" onclick="this.parentElement.classList.toggle(&#x27;collapsed&#x27;)"><svg class="size-5"><use href="/icons/code.svg#mingcute-arrow-down-line"></use></svg><span class="desc"> code</span></button><div class="collapse-fade"></div></div>
<p><strong>ç›¸å…³é…ç½®è¯´æ˜</strong></p>



































<div class="overflow-x-auto w-full flex justify-center"><table><thead><tr><th align="center">é…ç½®é¡¹</th><th align="center">é»˜è®¤å€¼</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center"><code>CHECK_TIMEOUT</code></td><td align="center"><code>15000</code></td><td align="center">å•ä¸ªé“¾æ¥æ£€æµ‹çš„è¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è¯¥æ—¶é—´è§†ä¸ºè¯·æ±‚å¤±è´¥</td></tr><tr><td align="center"><code>PLimit_NUM</code></td><td align="center"><code>5</code></td><td align="center">å¹¶å‘æ£€æµ‹çš„æœ€å¤§æ•°é‡ï¼Œç”¨äºé™åˆ¶åŒæ—¶è¿›è¡Œçš„è¯·æ±‚æ•°</td></tr><tr><td align="center"><code>MAX_RETRIES</code></td><td align="center"><code>3</code></td><td align="center">é“¾æ¥æ£€æµ‹å¤±è´¥åçš„æœ€å¤§é‡è¯•æ¬¡æ•°</td></tr><tr><td align="center"><code>RETRY_DELAY</code></td><td align="center"><code>1000</code></td><td align="center">æ¯æ¬¡é‡è¯•ä¹‹é—´çš„ç­‰å¾…æ—¶é—´</td></tr><tr><td align="center"><code>SKIP_CHECK_NAMES</code></td><td align="center"><code>['']</code></td><td align="center">è·³è¿‡æ£€æµ‹çš„ç«™ç‚¹åç§°åˆ—è¡¨ï¼Œåç§°åŒ¹é…æ—¶å°†ä¸ä¼šè¿›è¡Œå¯ç”¨æ€§æ£€æµ‹</td></tr></tbody></table></div>
<p>è·³è¿‡æ£€æµ‹çš„ç«™ç‚¹åç§°åˆ—è¡¨ä¹Ÿæ”¯æŒåœ¨åç»­çš„ GitHub Actions å˜é‡ä¸­è¿›è¡Œæ§åˆ¶ï¼ˆå¯åŒæ—¶å­˜åœ¨ï¼‰[å¡«å†™æ ¼å¼ï¼šå‹é“¾åç§°1,å‹é“¾åç§°2]</p>
<h3 id="check-linksymlæ–‡ä»¶">check-links.ymlæ–‡ä»¶<a class="anchor" href="#check-linksymlæ–‡ä»¶">#</a></h3>
<p>åˆ›å»º <code>.github/workflows/check-links.yml</code> å¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="astro-code astro-code-themes github-light github-dark collapsed" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="yml"><div class="title text-sm text-muted-foreground px-3 py-1 rounded-lg border">check-links.yml</div><pre><code><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">ğŸ”— Friend Links Check</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">on</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  push</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    branches</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#032F62;--shiki-dark:#9ECBFF">main</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    paths</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'public/links.json'</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  schedule</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    - </span><span style="color:#22863A;--shiki-dark:#85E89D">cron</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'0 8 * * *'</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  workflow_dispatch</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">jobs</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  check-links-and-update</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Link Check &#x26; Upload</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    runs-on</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    steps</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">uses</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">actions/checkout@v4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Setup Node</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        uses</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">actions/setup-node@v4</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        with</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">          node-version</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">20</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Install deps</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">npm install p-limit tsx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Run link check</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">npx tsx scripts/check-links.ts</span></span></code></pre><span class="language ps-1 pe-3 text-sm bg-muted text-muted-foreground">yml</span><button class="copy text-muted-foreground p-1 box-content border rounded-lg bg-card" aria-label="Copy code" data-code="name: ğŸ”— Friend Links Check

on:
  push:
    branches:
      - main
    paths:
      - &#x27;public/links.json&#x27;
  schedule:
    - cron: &#x27;0 8 * * *&#x27;
  workflow_dispatch:

jobs:
  check-links-and-update:
    name: Link Check &#x26; Upload
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: 20

      - name: Install deps
        run: npm install p-limit tsx

      - name: Run link check
        run: npx tsx scripts/check-links.ts" onclick="
          navigator.clipboard.writeText(this.dataset.code);
          this.classList.add(&#x27;copied&#x27;);
          setTimeout(() => this.classList.remove(&#x27;copied&#x27;), 2000)
        "><div class="ready"><svg class="size-5"><use href="/icons/code.svg#mingcute-clipboard-line"></use></svg></div><div class="success hidden"><svg class="size-5"><use href="/icons/code.svg#mingcute-file-check-line"></use></svg></div></button><button class="collapse-toggle bg-card text-muted-foreground rounded-lg m-2" aria-label="Toggle collapse code block" onclick="this.parentElement.classList.toggle(&#x27;collapsed&#x27;)"><svg class="size-5"><use href="/icons/code.svg#mingcute-arrow-down-line"></use></svg><span class="desc"> code</span></button><div class="collapse-fade"></div></div>
<p>åç»­çš„æ­¥éª¤æˆ‘é‡‡ç”¨ä¸Šä¼ è‡³å­˜å‚¨æ¡¶çš„æ–¹å¼è€Œégitæäº¤å›ä»“åº“ï¼Œä¸»è¦æ˜¯æ€•æ±¡æŸ“gitçš„æäº¤ä¿¡æ¯ï¼ˆè€Œä¸”è¿è¡Œä¸€æ¬¡è„šæœ¬ï¼Œæœ¬åœ°ä»“åº“å°±è¦å†æ‹‰å–ä¸€æ¬¡æ„Ÿè§‰æŒºéº»çƒ¦ï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥æ”¹æˆä½ æƒ³è¦çš„æ–¹å¼ï¼Œæˆ–è€…æŠŠgitæäº¤è¿™éƒ¨åˆ†ç›´æ¥å†™è¿›å‰é¢çš„ <code>check-links.ts</code> è„šæœ¬</p>
<div class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="yml"><div class="title text-sm text-muted-foreground px-3 py-1 rounded-lg border">check-links.yml</div><pre><code><span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Upload link.json to bucket</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#D73A49;--shiki-dark:#F97583">|</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">          aws s3api put-object \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --bucket ${{ secrets.BITIFUL_BUCKET_NAME }} \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --key link.json \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --body public/links.json \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --endpoint-url https://${{ secrets.BITIFUL_S3_ENDPOINT }} \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --region ${{ secrets.BITIFUL_REGION }}</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        env</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">          AWS_ACCESS_KEY_ID</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">${{ secrets.BITIFUL_ACCESS_KEY_ID }}</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">          AWS_SECRET_ACCESS_KEY</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">${{ secrets.BITIFUL_SECRET_ACCESS_KEY }}</span></span></code></pre><span class="language ps-1 pe-3 text-sm bg-muted text-muted-foreground">yml</span><button class="copy text-muted-foreground p-1 box-content border rounded-lg bg-card" aria-label="Copy code" data-code="      - name: Upload link.json to bucket
        run: |
          aws s3api put-object \
            --bucket ${{ secrets.BITIFUL_BUCKET_NAME }} \
            --key link.json \
            --body public/links.json \
            --endpoint-url https://${{ secrets.BITIFUL_S3_ENDPOINT }} \
            --region ${{ secrets.BITIFUL_REGION }}
        env:
          AWS_ACCESS_KEY_ID: ${{ secrets.BITIFUL_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY: ${{ secrets.BITIFUL_SECRET_ACCESS_KEY }}" onclick="
          navigator.clipboard.writeText(this.dataset.code);
          this.classList.add(&#x27;copied&#x27;);
          setTimeout(() => this.classList.remove(&#x27;copied&#x27;), 2000)
        "><div class="ready"><svg class="size-5"><use href="/icons/code.svg#mingcute-clipboard-line"></use></svg></div><div class="success hidden"><svg class="size-5"><use href="/icons/code.svg#mingcute-file-check-line"></use></svg></div></button></div>
<p>è¿™é‡Œçš„å­˜å‚¨æ¡¶æˆ‘é€‰æ‹©çš„æ˜¯ <a href="/safego?url=https%3A%2F%2Fwww.bitiful.com%2F" rel="noopener noreferrer" target="_blank">ç¼¤çº·äº‘<span style="user-select:none"> â†—</span></a> ï¼Œç›¸å…³å˜é‡é…ç½®åœ¨ GitHub Actions çš„ secrets é‡Œï¼Œå˜é‡è·å–åœ¨ <a href="/safego?url=https%3A%2F%2Fconsole.bitiful.com" rel="noopener noreferrer" target="_blank">æ§åˆ¶å°é¡µé¢<span style="user-select:none"> â†—</span></a>ï¼Œå¯¹åº”å¦‚ä¸‹</p>



































<div class="overflow-x-auto w-full flex justify-center"><table><thead><tr><th align="center">Secrets åç§°</th><th align="center">å«ä¹‰è¯´æ˜</th><th align="center">ç¤ºä¾‹å€¼</th></tr></thead><tbody><tr><td align="center"><code>BITIFUL_BUCKET_NAME</code></td><td align="center">ç¼¤çº·äº‘å¯¹è±¡å­˜å‚¨æ¡¶åç§°ï¼ˆBucket Nameï¼‰</td><td align="center"><code>my-static-assets</code></td></tr><tr><td align="center"><code>BITIFUL_S3_ENDPOINT</code></td><td align="center">ç¼¤çº·äº‘ S3 å…¼å®¹ API Endpoint</td><td align="center"><code>https://s3.bitiful.net</code></td></tr><tr><td align="center"><code>BITIFUL_REGION</code></td><td align="center">å­˜å‚¨æ¡¶æ‰€åœ¨åŒºåŸŸï¼ˆRegionï¼‰</td><td align="center"><code>cn-east-1</code></td></tr><tr><td align="center"><code>BITIFUL_ACCESS_KEY_ID</code></td><td align="center">ç¼¤çº·äº‘è®¿é—®å¯†é’¥ IDï¼ˆAccess Key IDï¼‰</td><td align="center"><code>AKIAxxxxxxxxxxxx</code></td></tr><tr><td align="center"><code>BITIFUL_SECRET_ACCESS_KEY</code></td><td align="center">ç¼¤çº·äº‘è®¿é—®å¯†é’¥ Secretï¼ˆSecret Access Keyï¼‰</td><td align="center"><code>xxxxxxxxxxxxxxxxxxxx</code></td></tr></tbody></table></div>
<p>ç”±äºæˆ‘ç»™åšå®¢è¿›è¡Œäº†å›½å†…å¤–åˆ†æµï¼Œå›½å¤–æ‰˜ç®¡åˆ°äº†CFä¸Šï¼ŒåŠ ä¸Šå‰é¢å¹¶æ²¡æœ‰é€‰æ‹©gitæäº¤çš„æ–¹å¼ï¼Œæ‰€ä»¥æ£€æµ‹å®Œå‹é“¾åéœ€è¦è®©å…¶é‡æ–°æ„å»ºä¸€éï¼Œä»¥åŒæ­¥è¿›åº¦ã€‚</p>
<div class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="yml"><div class="title text-sm text-muted-foreground px-3 py-1 rounded-lg border">check-links.yml</div><pre><code><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  trigger-pages-build</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Trigger Cloudflare Pages build</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    needs</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">check-links-and-update</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    runs-on</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    if</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">${{ needs.check-links-and-update.result == 'success' }}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    steps</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Update Cloudflare Pages</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#D73A49;--shiki-dark:#F97583">|</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            curl -X POST \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            "https://api.cloudflare.com/client/v4/accounts/${{ secrets.CF_ACCOUNT_ID }}/pages/projects/${{ secrets.CF_PROJECT_NAME }}/deployments" \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            -H "Authorization: Bearer ${{ secrets.CF_API_TOKEN }}" \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            -H "Content-Type: application/json" \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            -d '{}'</span></span></code></pre><span class="language ps-1 pe-3 text-sm bg-muted text-muted-foreground">yml</span><button class="copy text-muted-foreground p-1 box-content border rounded-lg bg-card" aria-label="Copy code" data-code="  trigger-pages-build:
    name: Trigger Cloudflare Pages build
    needs: check-links-and-update
    runs-on: ubuntu-latest

    if: ${{ needs.check-links-and-update.result == &#x27;success&#x27; }}

    steps:
      - name: Update Cloudflare Pages
        run: |
            curl -X POST \
            &#x22;https://api.cloudflare.com/client/v4/accounts/${{ secrets.CF_ACCOUNT_ID }}/pages/projects/${{ secrets.CF_PROJECT_NAME }}/deployments&#x22; \
            -H &#x22;Authorization: Bearer ${{ secrets.CF_API_TOKEN }}&#x22; \
            -H &#x22;Content-Type: application/json&#x22; \
            -d &#x27;{}&#x27;" onclick="
          navigator.clipboard.writeText(this.dataset.code);
          this.classList.add(&#x27;copied&#x27;);
          setTimeout(() => this.classList.remove(&#x27;copied&#x27;), 2000)
        "><div class="ready"><svg class="size-5"><use href="/icons/code.svg#mingcute-clipboard-line"></use></svg></div><div class="success hidden"><svg class="size-5"><use href="/icons/code.svg#mingcute-file-check-line"></use></svg></div></button></div>
<p>æ‰€éœ€å˜é‡å¯¹åº”å¦‚ä¸‹ï¼š</p>

























<div class="overflow-x-auto w-full flex justify-center"><table><thead><tr><th align="center">Secrets åç§°</th><th align="center">å«ä¹‰è¯´æ˜</th><th align="center">ç¤ºä¾‹å€¼</th></tr></thead><tbody><tr><td align="center"><code>CF_ACCOUNT_ID</code></td><td align="center">Cloudflare è´¦æˆ· IDï¼ˆAccount Identifierï¼‰</td><td align="center"><code>a1b2c3d4e5f6g7h8i9j0</code></td></tr><tr><td align="center"><code>CF_PROJECT_NAME</code></td><td align="center">Cloudflare Pages é¡¹ç›®åç§°ï¼ˆProject Nameï¼‰</td><td align="center"><code>my-pages-site</code></td></tr><tr><td align="center"><code>CF_API_TOKEN</code></td><td align="center">Cloudflare API Tokenï¼ˆç”¨äº Pages / API æ“ä½œï¼‰</td><td align="center"><code>cf_api_token_xxxxxxxxxxxx</code></td></tr></tbody></table></div>
<p><code>CF_API_TOKE</code> <strong>åªéœ€</strong> page çš„ç¼–è¾‘æƒé™å°±å¯ä»¥äº†</p>

<p>å¦‚æœä½ çš„å›½å†…ç«™ç‚¹ä¹Ÿæ˜¯é€šè¿‡ GitHub Actions æ¥æ„å»ºæ‹‰å–çš„è¯ï¼Œéœ€åœ¨ç›¸å…³å·¥ä½œæµæ–‡ä»¶åŠ å…¥å¯¹ <code>check-links.yml</code> å®ŒæˆçŠ¶æ€çš„æ£€æµ‹ <span class="spoiler bg-muted rounded text-transparent hover:text-inherit px-1 transition-colors astro-uaowncbv"> çº¯é™æ€ç«™ç‚¹å°±è¿™ç‚¹éº»çƒ¦ğŸ˜¡ </span>  <span class="spoiler bg-muted rounded text-transparent hover:text-inherit px-1 transition-colors astro-uaowncbv"> æˆ–è®¸æ˜¯æˆ‘ç»™å·¥ä½œå¤æ‚åŒ–äº†ğŸ¤”ï¼Ÿ </span> </p>
<div class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="yml"><div class="title text-sm text-muted-foreground px-3 py-1 rounded-lg border">deploy.yml</div><pre><code><span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">on</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  push</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    branches</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#032F62;--shiki-dark:#9ECBFF">main</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    paths-ignore</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#032F62;--shiki-dark:#9ECBFF">public/link.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  workflow_dispatch</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  </span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  workflow_run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    workflows</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: [</span><span style="color:#032F62;--shiki-dark:#9ECBFF">"ğŸ”— Friend Links Check"</span><span style="color:#24292E;--shiki-dark:#E1E4E8">]</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    types</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#032F62;--shiki-dark:#9ECBFF">completed</span></span></code></pre><span class="language ps-1 pe-3 text-sm bg-muted text-muted-foreground">yml</span><button class="copy text-muted-foreground p-1 box-content border rounded-lg bg-card" aria-label="Copy code" data-code="on:
  push:
    branches:
      - main
    paths-ignore:
      - public/link.json

  workflow_dispatch:
  
  workflow_run:
    workflows: [&#x22;ğŸ”— Friend Links Check&#x22;]
    types:
      - completed" onclick="
          navigator.clipboard.writeText(this.dataset.code);
          this.classList.add(&#x27;copied&#x27;);
          setTimeout(() => this.classList.remove(&#x27;copied&#x27;), 2000)
        "><div class="ready"><svg class="size-5"><use href="/icons/code.svg#mingcute-clipboard-line"></use></svg></div><div class="success hidden"><svg class="size-5"><use href="/icons/code.svg#mingcute-file-check-line"></use></svg></div></button></div>
<details><summary>å®Œæ•´ç‰ˆ <code>check-links.yml</code> æ–‡ä»¶</summary><div class="astro-code astro-code-themes github-light github-dark collapsed" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="yml"><div class="title text-sm text-muted-foreground px-3 py-1 rounded-lg border">check-links.yml</div><pre><code><span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">ğŸ”— Friend Links Check</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#79B8FF">on</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  push</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    branches</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#032F62;--shiki-dark:#9ECBFF">main</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    paths</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'public/links.json'</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  schedule</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    - </span><span style="color:#22863A;--shiki-dark:#85E89D">cron</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'0 8 * * *'</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  workflow_dispatch</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">jobs</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  check-links-and-update</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Link Check &#x26; Upload</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    runs-on</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    steps</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">uses</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">actions/checkout@v4</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Setup Node</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        uses</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">actions/setup-node@v4</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        with</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">          node-version</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">20</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Install deps</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">npm install p-limit tsx</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Run link check</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">npx tsx scripts/check-links.ts</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Upload link.json to bucket</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#D73A49;--shiki-dark:#F97583">|</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">          aws s3api put-object \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --bucket ${{ secrets.BITIFUL_BUCKET_NAME }} \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --key link.json \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --body public/links.json \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --endpoint-url https://${{ secrets.BITIFUL_S3_ENDPOINT }} \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            --region ${{ secrets.BITIFUL_REGION }}</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        env</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">          AWS_ACCESS_KEY_ID</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">${{ secrets.BITIFUL_ACCESS_KEY_ID }}</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">          AWS_SECRET_ACCESS_KEY</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">${{ secrets.BITIFUL_SECRET_ACCESS_KEY }}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">  trigger-pages-build</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Trigger Cloudflare Pages build</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    needs</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">check-links-and-update</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    runs-on</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    if</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">${{ needs.check-links-and-update.result == 'success' }}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    </span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">    steps</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      - </span><span style="color:#22863A;--shiki-dark:#85E89D">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">Update Cloudflare Pages</span></span>
<span class="line"><span style="color:#22863A;--shiki-dark:#85E89D">        run</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#D73A49;--shiki-dark:#F97583">|</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            curl -X POST \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            "https://api.cloudflare.com/client/v4/accounts/${{ secrets.CF_ACCOUNT_ID }}/pages/projects/${{ secrets.CF_PROJECT_NAME }}/deployments" \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            -H "Authorization: Bearer ${{ secrets.CF_API_TOKEN }}" \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            -H "Content-Type: application/json" \</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">            -d '{}'</span></span></code></pre><span class="language ps-1 pe-3 text-sm bg-muted text-muted-foreground">yml</span><button class="copy text-muted-foreground p-1 box-content border rounded-lg bg-card" aria-label="Copy code" data-code="name: ğŸ”— Friend Links Check

on:
  push:
    branches:
      - main
    paths:
      - &#x27;public/links.json&#x27;
  schedule:
    - cron: &#x27;0 8 * * *&#x27;
  workflow_dispatch:

jobs:
  check-links-and-update:
    name: Link Check &#x26; Upload
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
    
      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: 20
    
      - name: Install deps
        run: npm install p-limit tsx
    
      - name: Run link check
        run: npx tsx scripts/check-links.ts
    
      - name: Upload link.json to bucket
        run: |
          aws s3api put-object \
            --bucket ${{ secrets.BITIFUL_BUCKET_NAME }} \
            --key link.json \
            --body public/links.json \
            --endpoint-url https://${{ secrets.BITIFUL_S3_ENDPOINT }} \
            --region ${{ secrets.BITIFUL_REGION }}
        env:
          AWS_ACCESS_KEY_ID: ${{ secrets.BITIFUL_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY: ${{ secrets.BITIFUL_SECRET_ACCESS_KEY }}

  trigger-pages-build:
    name: Trigger Cloudflare Pages build
    needs: check-links-and-update
    runs-on: ubuntu-latest

    if: ${{ needs.check-links-and-update.result == &#x27;success&#x27; }}
    
    steps:
      - name: Update Cloudflare Pages
        run: |
            curl -X POST \
            &#x22;https://api.cloudflare.com/client/v4/accounts/${{ secrets.CF_ACCOUNT_ID }}/pages/projects/${{ secrets.CF_PROJECT_NAME }}/deployments&#x22; \
            -H &#x22;Authorization: Bearer ${{ secrets.CF_API_TOKEN }}&#x22; \
            -H &#x22;Content-Type: application/json&#x22; \
            -d &#x27;{}&#x27;" onclick="
          navigator.clipboard.writeText(this.dataset.code);
          this.classList.add(&#x27;copied&#x27;);
          setTimeout(() => this.classList.remove(&#x27;copied&#x27;), 2000)
        "><div class="ready"><svg class="size-5"><use href="/icons/code.svg#mingcute-clipboard-line"></use></svg></div><div class="success hidden"><svg class="size-5"><use href="/icons/code.svg#mingcute-file-check-line"></use></svg></div></button><button class="collapse-toggle bg-card text-muted-foreground rounded-lg m-2" aria-label="Toggle collapse code block" onclick="this.parentElement.classList.toggle(&#x27;collapsed&#x27;)"><svg class="size-5"><use href="/icons/code.svg#mingcute-arrow-down-line"></use></svg><span class="desc"> code</span></button><div class="collapse-fade"></div></div></details>
<h2 id="å‰ç«¯æ¸²æŸ“">å‰ç«¯æ¸²æŸ“<a class="anchor" href="#å‰ç«¯æ¸²æŸ“">#</a></h2>
<p>ç”±äºæ–°çš„ link.json æ–‡ä»¶æ”¾åœ¨äº†å­˜å‚¨æ¡¶é‡Œï¼Œå‹é“¾çš„æ•°æ®éœ€è¦æ”¹ä¸ºä»è¿œç«¯è¯»å–</p>
<p>éœ€ä¿®æ”¹ <code>src/components/links/FriendList.astro</code> æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<div class="astro-code astro-code-themes github-light github-dark has-diff collapsed" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="astro"><pre><code><span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">---</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">interface</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> friend</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  avatar</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  avatar_cache</span><span style="color:#D73A49;--shiki-dark:#F97583">?:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> AvatarCache</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  name</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  intro</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span></span>
<span class="line"><span style="color:#E36209;--shiki-dark:#FFAB70">  link</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> string</span></span>
<span class="line diff add"><span style="color:#E36209;--shiki-dark:#FFAB70">  responseTime</span><span style="color:#D73A49;--shiki-dark:#F97583">?:</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> number</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">//...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF">title</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#E36209;--shiki-dark:#FFAB70">list</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">friendList</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#D73A49;--shiki-dark:#F97583">...</span><span style="color:#005CC5;--shiki-dark:#79B8FF">props</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> } </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> Astro.props</span></span>
<span class="line"></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">let</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> remoteData</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Record</span><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#79B8FF">string</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">number</span><span style="color:#24292E;--shiki-dark:#E1E4E8">> </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {} </span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">try</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> res</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetch</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'your own bucket url'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> json</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> res.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">json</span><span style="color:#24292E;--shiki-dark:#E1E4E8">()</span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">  for</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> group</span><span style="color:#D73A49;--shiki-dark:#F97583"> of</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> json.friends) {</span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">    for</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> f</span><span style="color:#D73A49;--shiki-dark:#F97583"> of</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> group.link_list) {</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">      remoteData[f.link] </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> f.responseTime</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">} </span><span style="color:#D73A49;--shiki-dark:#F97583">catch</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (e) {</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">  console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">warn</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'Failed to fetch remote link.json'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, e)</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line diff add"></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> enrichedLinkList</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> friendList.link_list.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">map</span><span style="color:#24292E;--shiki-dark:#E1E4E8">((</span><span style="color:#E36209;--shiki-dark:#FFAB70">frd</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> ({</span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">  ...</span><span style="color:#24292E;--shiki-dark:#E1E4E8">frd,</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">  responseTime: remoteData[frd.link] </span><span style="color:#D73A49;--shiki-dark:#F97583">??</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> frd.responseTime</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">}))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> getAvatarSrc</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#E36209;--shiki-dark:#FFAB70">friend</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> friend</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  (config.integ?.links?.cacheAvatar </span><span style="color:#D73A49;--shiki-dark:#F97583">??</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    ?</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (friend.avatar_cache?.path </span><span style="color:#D73A49;--shiki-dark:#F97583">??</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> friend.avatar)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    :</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> friend.avatar</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">---</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">{title </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x26;&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> &#x3C;</span><span style="color:#22863A;--shiki-dark:#85E89D">h2</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8">{friendList.id_name}>{title}&#x3C;/</span><span style="color:#22863A;--shiki-dark:#85E89D">h2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">>}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="color:#22863A;--shiki-dark:#85E89D">div</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="color:#24292E;--shiki-dark:#E1E4E8">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'grid gap-3.5 sm:grid-cols-2 sm:gap-4 lg:grid-cols-3'</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span><span style="color:#D73A49;--shiki-dark:#F97583">...</span><span style="color:#24292E;--shiki-dark:#E1E4E8">props}></span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    friendList.link_list.</span><span style="color:#005CC5;--shiki-dark:#79B8FF">length</span><span style="color:#D73A49;--shiki-dark:#F97583"> ></span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="color:#D73A49;--shiki-dark:#F97583"> ?</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span></span>
<span class="line diff remove"><span style="color:#6F42C1;--shiki-dark:#B392F0">      shuffle</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(friendList.link_list).</span><span style="color:#6F42C1;--shiki-dark:#B392F0">map</span><span style="color:#24292E;--shiki-dark:#E1E4E8">((</span><span style="color:#E36209;--shiki-dark:#FFAB70">frd</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> friend</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> ( </span></span>
<span class="line diff add"><span style="color:#6F42C1;--shiki-dark:#B392F0">      shuffle</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(enrichedLinkList).</span><span style="color:#6F42C1;--shiki-dark:#B392F0">map</span><span style="color:#24292E;--shiki-dark:#E1E4E8">((</span><span style="color:#E36209;--shiki-dark:#FFAB70">frd</span><span style="color:#D73A49;--shiki-dark:#F97583">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> friend</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> ( </span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        &#x3C;</span><span style="color:#22863A;--shiki-dark:#85E89D">a</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> href</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8">{frd.link} </span><span style="color:#6F42C1;--shiki-dark:#B392F0">target</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'_blank'</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'no-underline'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">          &#x3C;</span><span style="color:#22863A;--shiki-dark:#85E89D">div</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'group relative h-full overflow-hidden rounded-2xl border bg-background px-2.5 py-1.5 transition-colors hover:bg-muted sm:px-4 sm:py-2'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">            {frd.responseTime </span><span style="color:#D73A49;--shiki-dark:#F97583">!==</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="color:#D73A49;--shiki-dark:#F97583"> &#x26;&#x26;</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> ( </span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">              &#x3C;</span><span style="color:#22863A;--shiki-dark:#85E89D">div</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'absolute right-1.5 top-2 z-1 flex items-center gap-1 rounded-2xl bg-muted/50 px-1.5 py-0 text-[10px] leading-[1rem] text-muted-foreground backdrop-blur-sm transition-colors group-hover:bg-background/50 group-hover:text-foreground'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">                &#x3C;</span><span style="color:#22863A;--shiki-dark:#85E89D">div</span></span>
<span class="line diff add"><span style="color:#6F42C1;--shiki-dark:#B392F0">                  class</span><span style="color:#24292E;--shiki-dark:#E1E4E8">:</span><span style="color:#6F42C1;--shiki-dark:#B392F0">list</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8">{[</span></span>
<span class="line diff add"><span style="color:#032F62;--shiki-dark:#9ECBFF">                    'size-1.5 rounded-full'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">                    frd.responseTime </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 500</span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">                      ?</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'bg-green-400'</span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">                      :</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> frd.responseTime </span><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 1500</span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">                        ?</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'bg-yellow-400'</span></span>
<span class="line diff add"><span style="color:#D73A49;--shiki-dark:#F97583">                        :</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'bg-red-400'</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">                  ]}</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">                /></span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">                {frd.responseTime}ms</span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">              &#x3C;/</span><span style="color:#22863A;--shiki-dark:#85E89D">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8">>  </span></span>
<span class="line diff add"><span style="color:#24292E;--shiki-dark:#E1E4E8">            )}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">            &#x3C;</span><span style="color:#22863A;--shiki-dark:#85E89D">div</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'relative z-10 flex h-full items-center gap-3'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">			  //...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">            &#x3C;/</span><span style="color:#22863A;--shiki-dark:#85E89D">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">            {</span><span style="color:#6A737D;--shiki-dark:#6A737D">/* avatar bg */</span><span style="color:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">			  //...</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">          &#x3C;/</span><span style="color:#22863A;--shiki-dark:#85E89D">div</span><span style="color:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        &#x3C;/</span><span style="color:#22863A;--shiki-dark:#85E89D">a</span><span style="color:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      ))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    ) : (</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      &#x3C;</span><span style="color:#22863A;--shiki-dark:#85E89D">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8">>Nothing here.&#x3C;/</span><span style="color:#22863A;--shiki-dark:#85E89D">p</span><span style="color:#24292E;--shiki-dark:#E1E4E8">></span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    )</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">&#x3C;/</span><span style="color:#24292E;--shiki-dark:#E1E4E8">div</span><span style="color:#D73A49;--shiki-dark:#F97583">></span></span></code></pre><span class="language ps-1 pe-3 text-sm bg-muted text-muted-foreground">astro</span><button class="copy text-muted-foreground p-1 box-content border rounded-lg bg-card" aria-label="Copy code" data-code="---
//...

interface friend {
  avatar: string
  avatar_cache?: AvatarCache
  name: string
  intro: string
  link: string
  responseTime?: number // [!code ++]
}

//...

const { title, list: friendList, ...props } = Astro.props

let remoteData: Record<string, number> = {} // [!code ++:17]
try {
  const res = await fetch(&#x27;your own bucket url&#x27;)
  const json = await res.json()
  for (const group of json.friends) {
    for (const f of group.link_list) {
      remoteData[f.link] = f.responseTime
    }
  }
} catch (e) {
  console.warn(&#x27;Failed to fetch remote link.json&#x27;, e)
}

const enrichedLinkList = friendList.link_list.map((frd) => ({
  ...frd,
  responseTime: remoteData[frd.link] ?? frd.responseTime
}))

const getAvatarSrc = (friend: friend) =>
  (config.integ?.links?.cacheAvatar ?? false)
    ? (friend.avatar_cache?.path ?? friend.avatar)
    : friend.avatar
---
{title &#x26;&#x26; <h2 id={friendList.id_name}>{title}</h2>}
<div class=&#x27;grid gap-3.5 sm:grid-cols-2 sm:gap-4 lg:grid-cols-3&#x27; {...props}>
  {
    friendList.link_list.length > 0 ? (
      shuffle(friendList.link_list).map((frd: friend) => ( // [!code --]
      shuffle(enrichedLinkList).map((frd: friend) => ( // [!code ++]
        <a href={frd.link} target=&#x27;_blank&#x27; class=&#x27;no-underline&#x27;>
          <div class=&#x27;group relative h-full overflow-hidden rounded-2xl border bg-background px-2.5 py-1.5 transition-colors hover:bg-muted sm:px-4 sm:py-2&#x27;>
            {frd.responseTime !== undefined &#x26;&#x26; ( // [!code ++:15]
              <div class=&#x27;absolute right-1.5 top-2 z-1 flex items-center gap-1 rounded-2xl bg-muted/50 px-1.5 py-0 text-[10px] leading-[1rem] text-muted-foreground backdrop-blur-sm transition-colors group-hover:bg-background/50 group-hover:text-foreground&#x27;>
                <div
                  class:list={[
                    &#x27;size-1.5 rounded-full&#x27;,
                    frd.responseTime < 500
                      ? &#x27;bg-green-400&#x27;
                      : frd.responseTime < 1500
                        ? &#x27;bg-yellow-400&#x27;
                        : &#x27;bg-red-400&#x27;
                  ]}
                />
                {frd.responseTime}ms
              </div>  
            )}
            <div class=&#x27;relative z-10 flex h-full items-center gap-3&#x27;>
			  //...
            </div>
            {/* avatar bg */}
			  //...
          </div>
        </a>
      ))
    ) : (
      <p>Nothing here.</p>
    )
  }
</div>" onclick="
          navigator.clipboard.writeText(this.dataset.code);
          this.classList.add(&#x27;copied&#x27;);
          setTimeout(() => this.classList.remove(&#x27;copied&#x27;), 2000)
        "><div class="ready"><svg class="size-5"><use href="/icons/code.svg#mingcute-clipboard-line"></use></svg></div><div class="success hidden"><svg class="size-5"><use href="/icons/code.svg#mingcute-file-check-line"></use></svg></div></button><button class="collapse-toggle bg-card text-muted-foreground rounded-lg m-2" aria-label="Toggle collapse code block" onclick="this.parentElement.classList.toggle(&#x27;collapsed&#x27;)"><svg class="size-5"><use href="/icons/code.svg#mingcute-arrow-down-line"></use></svg><span class="desc"> code</span></button><div class="collapse-fade"></div></div>
<h2 id="ä½¿ç”¨">ä½¿ç”¨<a class="anchor" href="#ä½¿ç”¨">#</a></h2>
<p>åœ¨ GitHub Actions ä¸­æ‰¾åˆ° <strong>ğŸ”— Friend Links Check</strong> ï¼Œç‚¹å‡» <code>Run workflow</code> å¹¶è¿è¡Œï¼Œåç»­ä¼šåœ¨æ¯å¤© <a href="/safego?url=https%3A%2F%2Fcrontab.guru%2F" rel="noopener noreferrer" target="_blank">å›ºå®šæ—¶é—´<span style="user-select:none"> â†—</span></a> è¿è¡Œï¼Œæˆ–è€… <code>links.json</code> æ›´æ–°æ—¶è‡ªåŠ¨è¿è¡Œâ¤ï¸</p>     </div> </article> </main> <div class="bottom mt-6 items-start gap-x-10 md:flex astro-scuu7fyy">  <div class="flex-1 text-muted-foreground md:min-w-[50ch] astro-scuu7fyy"> <div class="relative flex flex-col gap-y-2 rounded-xl border px-3 sm:px-4 py-2 sm:py-3 astro-q62egrd7"> <svg aria-hidden="true" class="absolute end-4 top-4 size-20 opacity-10 astro-q62egrd7 astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2m0 2a8 8 0 1 0 0 16a8 8 0 0 0 0-16m0 3a5 5 0 0 1 3.75 1.692a1 1 0 1 1-1.5 1.324a3 3 0 1 0 0 3.968a1 1 0 1 1 1.5 1.324A5 5 0 1 1 12 7"/></g></svg>   <div class="flex flex-col astro-q62egrd7"> <div class="font-medium text-foreground astro-q62egrd7">è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹</div> <div class="text-sm astro-q62egrd7">https://blog.mcyzsx.top/blog/auto-check-links</div> </div>  <div class="flex flex-row flex-wrap justify-start gap-x-5 gap-y-1 sm:gap-x-8 astro-q62egrd7"> <div class="flex gap-x-2 sm:flex-col astro-q62egrd7"> <span class="astro-q62egrd7">Author</span> <span class="text-sm text-foreground max-sm:place-self-center astro-q62egrd7">é’Ÿç¥ç§€</span> </div> <div class="flex gap-x-2 sm:min-w-16 sm:flex-col astro-q62egrd7"> <span class="astro-q62egrd7">Published at</span> <span class="text-sm text-foreground max-sm:place-self-center astro-q62egrd7"> December 31, 2025 </span> </div> <div class="flex gap-x-2 sm:flex-col astro-q62egrd7"> <span class="astro-q62egrd7">Copyright</span> <a class="text-sm text-foreground max-sm:place-self-center astro-q62egrd7" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">
CC BY-NC-SA 4.0
</a> </div> </div>  <div class="relative astro-q62egrd7"> <div class="flex flex-row gap-3 astro-q62egrd7"> <button id="copy-link" aria-label="Copy link" class="group rounded-full bg-muted p-1 text-muted-foreground transition-colors hover:text-primary sm:p-1.5 astro-q62egrd7"> <svg aria-hidden="true" class="size-5 astro-q62egrd7 astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M16.243 9.878a1 1 0 0 1 1.32-.083l.094.083L19.778 12a5.5 5.5 0 0 1-7.596 7.952L12 19.778l-2.121-2.121a1 1 0 0 1 1.32-1.498l.094.083l2.121 2.122a3.5 3.5 0 0 0 5.091-4.8l-.141-.15l-2.121-2.121a1 1 0 0 1 0-1.415M9.17 9.171a1 1 0 0 1 1.32-.083l.095.083l4.242 4.243a1 1 0 0 1-1.32 1.497l-.094-.083l-4.243-4.242a1 1 0 0 1 0-1.415m-4.95-4.95a5.5 5.5 0 0 1 7.597-.173l.182.174l2.121 2.12A1 1 0 0 1 12.8 7.84l-.094-.083l-2.121-2.121a3.5 3.5 0 0 0-5.091 4.8l.141.15l2.121 2.12a1 1 0 0 1-1.32 1.498l-.094-.083L4.222 12a5.5 5.5 0 0 1 0-7.778Z"/></g></svg>  </button> <button id="get-qrcode" aria-label="Get QR code" class="group rounded-full bg-muted p-1 text-muted-foreground transition-colors hover:text-primary sm:p-1.5 astro-q62egrd7"> <svg aria-hidden="true" class="size-5 astro-q62egrd7 astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M11 3a2 2 0 0 1 1.995 1.85L13 5v6a2 2 0 0 1-1.85 1.995L11 13H5a2 2 0 0 1-1.995-1.85L3 11V5a2 2 0 0 1 1.85-1.995L5 3zm0 2H5v6h6zM8.5 7a.5.5 0 0 1 .492.41L9 7.5v1a.5.5 0 0 1-.41.492L8.5 9h-1a.5.5 0 0 1-.492-.41L7 8.5v-1a.5.5 0 0 1 .41-.492L7.5 7zM21 5a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm-4 0h2v2h-2zM7 15a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2zm0 2H5v2h2zm14 0a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm-4 0h2v2h-2zm-2-5a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1m-2 4a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0z"/></g></svg>  </button> <a href="http://service.weibo.com/share/share.php?url=https://blog.mcyzsx.top/blog/auto-check-links&title=è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹&pic=/_astro/cover.Bbhm6CY2.png" target="_blank" id="share-weibo" aria-label="Share to weibo" class="group rounded-full bg-muted p-1 text-muted-foreground transition-colors hover:text-primary sm:p-1.5 astro-q62egrd7"> <svg aria-hidden="true" class="size-5 astro-q62egrd7 astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M13.12 5.815c.55.537.826 1.24.863 1.992c1.675-.502 3.045-.362 3.937.5c.848.82.937 1.967.617 2.964C19.9 11.961 21 13.058 21 14.715c0 1.93-1.256 3.526-2.962 4.586C16.318 20.371 14.004 21 11.5 21s-4.818-.63-6.538-1.699C3.256 18.241 2 16.646 2 14.715c0-1.762.842-3.589 2.05-5.156a14.6 14.6 0 0 1 4.723-3.954c1.635-.847 3.286-.828 4.347.21m-1.399 1.43c-.213-.21-.829-.485-2.028.136a12.6 12.6 0 0 0-4.06 3.4C4.576 12.154 4 13.558 4 14.715c0 .988.647 2.035 2.018 2.888C7.374 18.446 9.309 19 11.5 19c2.19 0 4.127-.554 5.482-1.397c1.371-.853 2.018-1.9 2.018-2.888c0-.711-.56-1.439-2.16-1.991a1 1 0 0 1-.473-1.546c.495-.66.355-1.248.163-1.433l-.048-.04l-.067-.042c-.337-.186-1.274-.368-3.335.661a1 1 0 0 1-1.347-1.33c.444-.92.225-1.517-.012-1.75ZM17 3c1.576 0 3.128.643 4.243 1.757A6.05 6.05 0 0 1 23 9a1 1 0 1 1-2 0c0-1.05-.429-2.086-1.172-2.828A4.04 4.04 0 0 0 17 5a1 1 0 1 1 0-2"/></g></svg>  </a><a href="https://x.com/intent/tweet?text='è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹'&url='https://blog.mcyzsx.top/blog/auto-check-links'&via='é’Ÿç¥ç§€'" target="_blank" id="share-x" aria-label="Share to x" class="group rounded-full bg-muted p-1 text-muted-foreground transition-colors hover:text-primary sm:p-1.5 astro-q62egrd7"> <svg aria-hidden="true" class="size-5 astro-q62egrd7 astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none" fill-rule="evenodd"><path d="m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M19.753 4.659a1 1 0 0 0-1.506-1.317l-5.11 5.84L8.8 3.4A1 1 0 0 0 8 3H4a1 1 0 0 0-.8 1.6l6.437 8.582l-5.39 6.16a1 1 0 0 0 1.506 1.317l5.11-5.841L15.2 20.6a1 1 0 0 0 .8.4h4a1 1 0 0 0 .8-1.6l-6.437-8.582l5.39-6.16ZM16.5 19L6 5h1.5L18 19z"/></g></svg>  </a><a href="https://bsky.app/intent/compose?text=è‡ªåŠ¨åŒ–å‹é“¾æ£€æµ‹%0Ahttps://blog.mcyzsx.top/blog/auto-check-links" target="_blank" id="share-bluesky" aria-label="Share to bluesky" class="group rounded-full bg-muted p-1 text-muted-foreground transition-colors hover:text-primary sm:p-1.5 astro-q62egrd7"> <svg aria-hidden="true" class="size-5 astro-q62egrd7 astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none" fill-rule="evenodd"><path d="m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M4.747 5.105a.94.94 0 0 0-.41.892l.314 3.287A3 3 0 0 0 7.637 12H9a1 1 0 0 1 .371 1.928l-2.34.937c-.885.354-1.122 1.32-.664 1.932c.288.384.576.731.84.996c.233.233.532.485.865.74c.619.475 1.625.214 1.94-.734l1.04-3.115a1 1 0 0 1 1.897 0l1.038 3.115c.316.948 1.322 1.21 1.941.735a9 9 0 0 0 .865-.741c.265-.265.553-.612.84-.996c.458-.612.222-1.578-.664-1.932l-2.34-.937A1 1 0 0 1 15 12h1.363a3 3 0 0 0 2.986-2.716l.314-3.287a.94.94 0 0 0-.41-.892a.75.75 0 0 0-.858-.001c-2.645 1.708-4.05 3.442-5.5 6.343a1 1 0 0 1-1.79 0c-1.45-2.901-2.855-4.635-5.5-6.343a.75.75 0 0 0-.858.001m-2.4 1.082C2.13 3.913 4.567 2.053 6.69 3.424C9.13 5 10.662 6.639 12 8.9c1.338-2.261 2.87-3.9 5.31-5.476c2.123-1.371 4.56.49 4.344 2.763l-.314 3.287a5 5 0 0 1-2.783 4.02c1.329 1.039 1.818 2.978.677 4.502c-.317.423-.669.853-1.027 1.211c-.317.317-.69.628-1.062.914c-1.88 1.441-4.375.35-5.055-1.69l-.09-.269l-.09.27c-.68 2.04-3.175 3.13-5.055 1.689a11 11 0 0 1-1.062-.914a11.5 11.5 0 0 1-1.027-1.211c-1.141-1.524-.651-3.463.678-4.502a5 5 0 0 1-2.784-4.02z"/></g></svg>  </a> </div> <div id="qrcode-container" class="absolute z-10 -mt-2 box-content max-h-0 max-w-44 overflow-hidden rounded-xl border bg-muted p-4 opacity-0 transition-all duration-300 ease-in-out astro-q62egrd7"></div> <script src="https://cdn.jsdmirror.com/npm/qrcodejs/qrcode.min.js"></script> <script>(function(){const content = undefined;

  const renderContent = content ?? window.location.href
  // Load qrcode
  function loadQRcode(qrcodeContainer) {
    if (!qrcodeContainer) throw new Error('qrcode container not found')
    if (qrcodeContainer.innerHTML !== '') return
    new QRCode(qrcodeContainer, renderContent)
  }
  const qrcodeContainer = document.getElementById('qrcode-container')
  if (!qrcodeContainer) throw new Error('qrcode container not found')
  loadQRcode(qrcodeContainer)
})();</script> </div> </div> <div class="mx-6 rounded-b-xl border border-t-0 px-3 pb-1.5 pt-1 sm:mx-8 sm:px-4 astro-q62egrd7"> <a href="/projects#sponsorship" class="flex items-center justify-between text-muted-foreground no-underline astro-q62egrd7" target="_blank"> <span class="astro-q62egrd7">Buy me a cup of coffee â˜•.</span> <svg aria-hidden="true" class="box-content size-5 p-1 astro-q62egrd7 astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M17 2a3 3 0 0 1 3 3v12a1 1 0 0 1 .351 1.936l-8 3a1 1 0 0 1-.702 0l-8-3A1 1 0 0 1 4 17V5a3 3 0 0 1 3-3zm0 2H7a1 1 0 0 0-.993.883L6 5v12.682l6 2.25l6-2.25V5a1 1 0 0 0-.883-.993zm-5 1a1 1 0 0 1 .993.883L13 6v1h2a1 1 0 0 1 .117 1.993L15 9h-5a.5.5 0 0 0-.09.992L10 10h4a2.5 2.5 0 0 1 .164 4.995L14 15h-1v1a1 1 0 0 1-1.993.117L11 16v-1H9a1 1 0 0 1-.117-1.993L9 13h5a.5.5 0 0 0 .09-.992L14 12h-4a2.5 2.5 0 0 1-.164-4.995L10 7h1V6a1 1 0 0 1 1-1"/></g></svg>  </a> </div>  <script type="module" src="/_astro/Copyright.astro_astro_type_script_index_0_lang.B_VQDGfL.js"></script> <div class="flex max-sm:flex-col sm:justify-between gap-2 mt-3 sm:mt-6"> <span class="min-w-0">  </span> <span class="min-w-0"> <a href="/blog/aisummary-blog" class="group inline-flex items-center gap-x-2 rounded-xl px-4 py-2 text-right no-underline transition-colors duration-300 hover:bg-muted max-sm:float-end max-sm:max-w-[80%] sm:flex"> <p class="truncate font-medium transition-colors">æœ¬åœ°å®ç°Astroæ–‡ç« AIæ‘˜è¦</p> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 stroke-muted-foreground transition-colors group-hover:stroke-primary"> <line x1="5" y1="12" x2="19" y2="12" class="translate-x-4 scale-x-0 transition-all duration-300 ease-in-out group-hover:translate-x-1 group-hover:scale-x-100"></line> <polyline points="12 5 19 12 12 19" class="translate-x-0 transition-all duration-300 ease-in-out group-hover:translate-x-1"></polyline> </svg> </a> </span> </div> <comment-component class="astro-y3qunytq"><div id="waline" class="not-prose mt-3 sm:mt-6 astro-y3qunytq">
Comment seems to stuck. Try to refresh?âœ¨
</div></comment-component><script type="module" src="/_astro/Comment.astro_astro_type_script_index_0_lang.K2Lpz3N1.js"></script> </div> <div class="min-w-48 basis-60 astro-scuu7fyy">  </div> </div> <div class="z-10 group fixed bottom-8 end-4 transition-all flex flex-col gap-y-4 sm:end-8 astro-7ciavms3" id="action-buttons"> <button aria-label="Toggle sidebar" class="size-10 flex items-center justify-center rounded-full border-2 border-transparent bg-muted text-muted-foreground duration-300 hover:border-border/75 md:hidden sm:size-12 astro-scuu7fyy" id="sidebar-btn"> <svg aria-hidden="true" class="astro-scuu7fyy astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M4.5 17.5a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3M20 18a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2zM4.5 10.5a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3M20 11a1 1 0 0 1 .117 1.993L20 13H9a1 1 0 0 1-.117-1.993L9 11zM4.5 3.5a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3M20 4a1 1 0 0 1 .117 1.993L20 6H9a1 1 0 0 1-.117-1.993L9 4z"/></g></svg>  </button> <scroll-button class="astro-7ciavms3"> <button aria-label="Back to Top" class="relative size-10 flex items-center justify-center rounded-full border-2 border-transparent bg-muted text-muted-foreground duration-300 hover:border-border/75 sm:size-12 opacity-0 astro-7ciavms3" id="to-top-btn"> <div class="top-text absolute bottom-0 end-0 start-0 top-0 flex items-center justify-center group-[.ended]:opacity-0 astro-7ciavms3"> <span class="text astro-7ciavms3">10</span> <span class="text-xs astro-7ciavms3">%</span> </div> <svg aria-hidden="true" class="top-icon group-[.ended]:opacity-100 astro-7ciavms3 astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none" fill-rule="evenodd"><path d="M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M11.293 8.293a1 1 0 0 1 1.414 0l5.657 5.657a1 1 0 0 1-1.414 1.414L12 10.414l-4.95 4.95a1 1 0 0 1-1.414-1.414z"/></g></svg>  </button> </scroll-button> </div> <script>(function(){const headerName = "content-header";
const contentName = "content";
const needPercent = true;

  class ScrollBtn extends HTMLElement {
    actionBtns
    scrollBtn
    scrollPercentEl
    targetHeader
    articleEl
    scrollHeight = 0
    articleTop = 0
    clientHeight = 0
    ticking = false
    needPercent = true

    calculateScrollPercent() {
      const scrollTop = Math.max(0, window.scrollY || document.documentElement.scrollTop)
      // Before article
      if (scrollTop < this.articleTop) return 0
      const maxScrollable = this.scrollHeight - this.clientHeight
      // After article
      if (maxScrollable <= 0) return 100
      const progress = Math.min(scrollTop - this.articleTop, maxScrollable)
      return Math.round((progress / maxScrollable) * 100)
    }

    updateScrollPercent() {
      const percent = this.calculateScrollPercent()
      this.scrollPercentEl.textContent = percent.toString()
      this.actionBtns.classList.toggle('ended', percent >= 100)
      this.ticking = false
    }

    connectedCallback() {
      this.needPercent = needPercent
      this.actionBtns = document.getElementById('action-buttons')
      this.scrollBtn = this.querySelector('button#to-top-btn')
      this.scrollPercentEl = this.scrollBtn.querySelector('.top-text .text')
      this.targetHeader = document.getElementById(headerName)
      this.articleEl = document.getElementById(contentName)

      if (!this.articleEl) {
        console.error(`Element with ID ${contentName} not found.`)
        needPercent = false
      }
      // Scroll to top action
      this.scrollBtn.addEventListener('click', this)
      // Observe header visibility
      if (this.targetHeader) {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            this.actionBtns.classList.toggle('show', !entry.isIntersecting)
          })
        })
        observer.observe(this.targetHeader)
      } else {
        console.error(`Element with ID ${headerName} not found.`)
      }
      // Scroll percent update
      if (this.needPercent) {
        this.scrollHeight = this.articleEl.scrollHeight
        this.articleTop = this.articleEl.offsetTop
        this.clientHeight = document.documentElement.clientHeight

        document.addEventListener('scroll', () => {
          if (!this.ticking) {
            requestAnimationFrame(() => this.updateScrollPercent())
            this.ticking = true
          }
        })
      } else {
        this.actionBtns.classList.add('ended')
      }
    }

    handleEvent(event) {
      if (event.type === 'click') {
        window.scrollTo({ top: 0, behavior: 'smooth' })
      }
    }
  }
  customElements.define('scroll-button', ScrollBtn)
})();</script>   <div class="signature-wrapper w-40 float-right mt-4 [&#38;_path]:stroke-black dark:[&#38;_path]:stroke-gray-2 [&#38;_path]:opacity-0 astro-37fxchfa" data-mode="once-on-view"> <svg width="1602" height="660" viewBox="0 0 1602 660" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
       d="m 79,305 c 15.782184,33.9658 69.5972,7.94307 99.06536,1.74756 22.54498,-4.11285 69.42005,-39.91454 71.5332,-27.77363 -29.32679,46.98739 -56.63782,96.65284 -93.92726,137.59321 -40.7484,1.67764 -120.465881,15.97997 -88.238595,73.95816 37.129265,29.46006 69.925865,-25.92538 92.178965,-51.00713 44.03685,-20.00257 97.60228,-22.60812 141.19464,-48.89204 21.85853,-9.50021 50.63945,-28.77133 23.66557,4.19634 -25.579,25.73191 3.76523,61.51422 28.13013,28.952 44.5397,-29.36132 84.91176,-67.21654 134.25139,-88.16019 40.59669,-3.70492 16.4173,-41.34576 -9.65679,-16.5153 -28.67352,21.26392 -34.94018,6.8296 -10.83558,-15.31804 C 501.60195,265.49837 550.79665,245.56595 595,220 c -24.28785,43.45268 -32.5331,106.16376 -86.67327,121.87914 -80.44037,47.00557 -169.45305,105.64382 -194.30665,201.27839 -9.16154,31.94803 -3.43129,91.23583 42.56961,84.41602 60.82568,-14.10257 96.35757,-73.93518 124.21225,-125.04732 27.38932,-54.73829 50.08512,-111.96981 78.10315,-166.26311 16.70624,-6.72549 78.97804,-54.5349 49.64801,-12.08685 -28.67079,38.31387 10.63907,81.45311 32.9183,27.88794 14.8225,-22.39711 49.27374,-61.69816 65.48295,-59.48193 -10.19658,14.63476 -46.60338,70.07206 -4.91868,51.57135 26.62611,-19.76732 78.66265,-61.95949 95.17162,-58.85937 C 780.58836,307.91596 751.06046,365.2921 803,361 c -38.80662,35.72475 22.19057,23.65627 36.57657,3.06847 32.45979,-25.91543 72.76322,-39.85028 105.65834,-64.49694 13.20379,-14.09912 79.49129,-54.72292 40.70709,-17.2 -18.77894,26.232 -80.07032,75.15143 -44.88086,102.7642 45.38251,-10.75627 83.96226,-45.19723 110.76766,-82.60464 34.4343,-32.81059 -5.5457,-90.26525 50.177,-103.40748 13.4021,-17.21615 82.8817,-38.32932 50.7047,-53.45491 -36.7816,7.93094 -69.5646,64.05919 -103.1349,53.33594 -32.0361,-29.17671 -81.91021,-30.22428 -121.57481,-19.46143 -26.49236,36.31055 43.88931,1.12882 62.84768,10.59455 34.91543,-0.47637 75.28123,30.27519 23.65233,45.23067 -29.70369,14.04176 -106.28999,68.82983 -101.74269,57.97733 35.48928,-8.03389 -5.08272,-59.37593 -2.55575,-30.11792 -10.11218,25.56868 -55.16517,49.75994 -85.20236,65.5669 -22.6095,15.57054 -48.46519,17.05821 -21.44796,-11.57318 6.17789,-20.37559 52.58802,-66.8981 3.36262,-59.10716 -29.05737,5.28566 -68.82617,39.98545 -82.77258,42.53933 29.65685,-55.50236 -43.2639,-28.51221 -59.38819,-1.46726 -13.89885,13.27897 -56.00892,70.67055 -33.2902,22.38511 1.11055,-21.28145 54.77354,-74.24929 13.33044,-73.6173 -4.48546,28.21868 -67.25834,66.96969 -70.03396,51.95398 23.15617,-36.89088 30.46127,-88.21713 70.51171,-111.58986 31.97005,-22.98341 71.32157,-46.51752 85.77544,-84.46031 -18.2472,-55.385904 -87.68025,8.10408 -96.12824,43.63451 -14.02718,51.48119 -65.15074,67.20631 -106.08338,91.55228 -37.7774,24.83474 -86.65564,48.99649 -100.44141,94.95512 11.15297,28.2627 -48.2232,39.68869 -66.15464,63.23757 -19.8215,14.83576 -33.08269,22.85744 -13.7406,-6.58497 2.48316,-20.94789 67.51747,-60.0124 26.50095,-64.38023 -52.56032,44.62699 -118.75924,73.78418 -186.7522,85.96877 6.09055,-25.70791 52.63971,-74.50678 68.5465,-111.5697 14.23774,-47.20337 61.9821,-61.61525 98.44469,-86.77329 C 407.77267,176.9697 460.63979,137.31191 500.09412,86.156217 535.75472,31.887753 456.23726,31.748465 430.33595,61.749488 363.43553,106.68556 317.24338,175.21552 273.77423,241.51119 242.26166,268.37217 199.78649,278.77078 162.53244,295.97075 135.78849,306.62884 107.24688,306.47963 79,305 Z M 497,54 c -15.00718,53.1929 -70.98271,81.18137 -108.8034,117.7337 -22.96949,14.96404 -71.50275,61.26438 -82.93966,50.34224 C 347.88765,161.64044 392.45005,95.978837 460.54806,62.10453 472.04837,57.197431 484.43371,53.994221 497,54 Z M 640,172 C 658.1891,141.69833 674.3731,97.672212 715.58802,95.82938 712.55317,124.86448 665.47561,154.62842 640,172 Z m 415,59 c 8.215,36.64273 -19.1422,68.4873 -42.5228,93.6195 -18.48227,15.13893 -54.99793,48.06053 -69.63596,37.41635 27.20274,-48.53691 60.02336,-97.31381 106.90556,-128.73351 z m -433,114 -1,1 z m -89,3 c -28.41896,61.96708 -53.84253,126.44846 -89.86463,184.80347 -23.83401,33.95104 -51.87791,73.65596 -95.26435,81.49337 C 301.84346,595.1349 333.60049,523.15878 353.50711,490.1514 396.55565,425.72173 465.32106,382.52611 533,348 Z M 139,436 C 131.88917,470.00917 47.355139,509.61728 86.849191,449.69308 101.87227,438.58271 121.44958,439.27362 139,436 Z" stroke="black" stroke-width="4" stroke-linecap="round" data-duration="600"
       id="path2" />
    <path
       d="m 1219,292 c 12.1301,-13.87859 32.0407,-21.20026 39.0723,-39.24063 -0.5351,-21.95938 -32.5321,-14.97423 -46.2984,-9.01535 -33.459,11.56368 -65.5933,26.66587 -96.6689,43.52558 -8.8577,3.25274 10.774,-10.81204 13.751,-15.38915 14.2735,-7.07175 9.0615,-35.885 -7.6228,-22.42352 -13.5364,18.59152 -37.5581,29.63198 -44.4948,52.71002 -2.3034,25.64828 29.1008,15.29972 40.2159,4.426 33.9364,-19.47693 68.928,-38.02194 106.4724,-49.4745 18.5838,-4.09199 -10.3266,12.74923 -15.2782,18.55377 -11.0692,9.44108 -25.8059,20.63355 -23.8612,36.97761 9.723,17.39855 33.1671,3.11629 45.6565,-3.68944 36.0633,-21.14697 68.6135,-49.42134 108.8015,-62.76095 15.3228,-4.14421 -6.2956,14.88155 -7.7515,22.44286 -9.807,14.97009 -6.2143,37.11136 9.8154,46.20476 21.0727,12.81042 47.0458,5.68085 69.6583,1.73054 29.0343,-6.6921 57.2775,-16.56588 84.1585,-29.3671 9.9312,-0.90912 16.2824,-4.8194 19.1731,-14.41721 4.3623,-5.00552 -2.3196,-10.01509 -3.8184,-15.02276 -0.9588,-10.29949 -25.1578,-9.09913 -22.2852,-0.13403 5.5937,4.03419 26.0811,5.7545 8.9807,9.85994 -39.1285,13.9863 -77.8022,31.91284 -119.8915,34.45837 -13.2359,4.31137 -41.3444,0.84156 -32.6657,-19.03129 6.3131,-17.06905 21.7376,-28.53714 29.5685,-44.56274 4.3189,-25.52057 -29.2208,-15.23098 -41.8651,-8.0437 -34.1466,13.75516 -65.8364,32.68041 -96.1792,53.35922 -5.3253,3.18795 -10.8324,6.11667 -16.6432,8.3237 z m 0,0 c -1.2409,1.24089 -0.9922,0.99221 0,0 z" stroke="black" stroke-width="4" stroke-linecap="round" data-duration="300"
       id="path5" />
    <path
       d="m 390,312 c 1.16116,-9.84094 -9.29773,-21.75931 -16.96759,-9.58487 -2.93777,4.66318 3.21469,12.5152 7.95679,13.07791 3.1907,0.37863 6.23684,-2.29071 9.0108,-3.49304" stroke="black" stroke-width="4" stroke-linecap="round" data-duration="100"
       id="path6" />
    <path
       d="m 676,226 c 1.26349,-3.79794 3.56342,-7.74704 2.13116,-11.82562 -1.72033,-4.89887 -10.30041,-8.7988 -14.52777,-4.57099 C 655.73395,217.47363 669.45764,225.9408 676,226" stroke="black" stroke-width="4" stroke-linecap="round" data-duration="50"
       id="path3" />
    <path
       d="m 1134.0386,208.53705 c -4.343,0.62994 -11.5463,5.46441 -13.105,9.63656 -2.1423,5.73423 2.8924,13.06507 9.0671,12.50461 11.5959,-1.05252 18.7891,-24.28085 4.0379,-22.14117" stroke="black" stroke-width="4" stroke-linecap="round" data-duration="25"
       id="path4" />
</svg>
 </div> <script>(function(){const mode = "once-on-view";
const drawDelay = 200;
const rollbackDelay = 80;
const loopPause = 2000;
const threshold = 0.8;
const defaultDuration = 600;

  function setupSignature(wrapper) {
    let initialPaths = Array.from(wrapper.querySelectorAll('path[stroke]'))
    if (initialPaths.length === 0) return

    initialPaths.sort((a, b) => {
      const seqA = a.getAttribute('seq')
      const seqB = b.getAttribute('seq')
      const numA = parseInt(seqA, 10)
      const numB = parseInt(seqB, 10)
      const hasSeqA = !isNaN(numA)
      const hasSeqB = !isNaN(numB)

      if (hasSeqA && hasSeqB) return numA - numB
      if (hasSeqA) return -1
      if (hasSeqB) return 1
      return 0
    })
    const paths = initialPaths

    const motionQuery = window.matchMedia('(prefers-reduced-motion: reduce)')
    if (motionQuery.matches) {
      paths.forEach((path) => {
        path.style.opacity = '1'
      })
      return
    }

    // è®¡ç®—è·¯å¾„é•¿åº¦å’ŒåŠ¨ç”»æ—¶é•¿
    const pathLengths = new Map()
    const pathDurations = new Map()

    paths.forEach((path) => {
      const length = path.getTotalLength()
      pathLengths.set(path, length)

      const customDuration = path.getAttribute('data-duration')
      const duration = customDuration ? parseInt(customDuration, 10) : defaultDuration
      pathDurations.set(path, duration)

      /* 1. åˆå§‹çŠ¶æ€ */
      path.style.strokeDasharray = `${length} ${length}`
      path.style.strokeDashoffset = length
      path.style.transition = 'none'
      path.style.opacity = '1'
      path.style.fill = 'transparent' // å…³é”®
      path.dataset.targetFill = '#000' // æƒ³å¡«çš„é¢œè‰²
    })

    // ä½¿ç”¨é€’å½’æ–¹å¼å®ç°é¡ºåºåŠ¨ç”»
    const drawSequentially = (index, callback) => {
      if (index >= paths.length) {
        if (callback) callback()
        return
      }

      const path = paths[index]
      const duration = pathDurations.get(path)
      // å¼ºåˆ¶é‡æ’ä»¥ç¡®ä¿åˆå§‹çŠ¶æ€è¢«åº”ç”¨
      path.getBoundingClientRect() // force reflow
      // è®¾ç½®åŠ¨ç”»
      path.style.transition = `stroke-dashoffset ${duration}ms ease-in-out,
                              fill ${duration}ms ease-in-out` // åŒæ—¶è¿‡æ¸¡ fill
      path.style.strokeDashoffset = '0'
      path.style.fill = path.dataset.targetFill // â† è¾¹ç”»è¾¹å¡«
      // ç­‰å¾…åŠ¨ç”»å®Œæˆ
      setTimeout(() => {
        // å¦‚æœä¸æ˜¯æœ€åä¸€ç¬”ï¼Œæ·»åŠ å»¶è¿Ÿ
        // @ts-ignore
        const nextDelay = index < paths.length - 1 ? drawDelay : 0
        setTimeout(() => {
          drawSequentially(index + 1, callback)
        }, nextDelay)
      }, duration)
    }

    const rollbackSequentially = (index, callback) => {
      /* å›æ»šå‰æ¢å¤é€æ˜ï¼ˆå¯é€‰ï¼‰
      paths.forEach(p => {
        p.style.fill = 'transparent'
        p.style.strokeDashoffset = pathLengths.get(p)
      })
          */
      if (index < 0) {
        if (callback) callback()
        return
      }

      const path = paths[index]
      const duration = pathDurations.get(path)
      const currentRollbackDuration = duration * 0.8

      // å¼ºåˆ¶é‡æ’
      path.getBoundingClientRect()

      // è®¾ç½®å›æ»šåŠ¨ç”»
      path.style.transition = `stroke-dashoffset ${currentRollbackDuration}ms ease-in-out`
      path.style.strokeDashoffset = pathLengths.get(path)

      // ç­‰å¾…åŠ¨ç”»å®Œæˆ
      setTimeout(() => {
        // å¦‚æœä¸æ˜¯æœ€åä¸€ç¬”ï¼Œæ·»åŠ å»¶è¿Ÿ
        // @ts-ignore
        const nextDelay = index > 0 ? rollbackDelay : 0
        setTimeout(() => {
          rollbackSequentially(index - 1, callback)
        }, nextDelay)
      }, currentRollbackDuration)
    }

    // æ‰§è¡ŒåŠ¨ç”»
    // @ts-ignore
    if (mode === 'loop') {
      const runLoop = () => {
        // ç»˜åˆ¶æ‰€æœ‰ç¬”ç”»
        drawSequentially(0, () => {
          // ç»˜åˆ¶å®Œæˆåæš‚åœ
          setTimeout(() => {
            // å›æ»šæ‰€æœ‰ç¬”ç”»
            rollbackSequentially(paths.length - 1, () => {
              // å›æ»šå®Œæˆåæš‚åœ
              setTimeout(() => {
                // é‡æ–°å¼€å§‹å¾ªç¯
                runLoop()
                // @ts-ignore
              }, loopPause / 2)
            })
            // @ts-ignore
          }, loopPause)
        })
      }

      // åˆå§‹å»¶è¿Ÿåå¼€å§‹
      setTimeout(runLoop, 500)
      // @ts-ignore
    } else if (mode === 'once-on-view') {
      const observer = new IntersectionObserver(
        (entries, obs) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              // å†ç­‰500msåç§»é™¤è§‚å¯Ÿå™¨
              setTimeout(() => {
                drawSequentially(0)
                obs.unobserve(entry.target)
              }, 500)
            }
          })
        },
        // @ts-ignore
        { threshold: threshold }
      )
      observer.observe(wrapper)
    }
  }

  document.querySelectorAll('.signature-wrapper').forEach(setupSignature)
})();</script>  </div> <footer class="mx-auto mb-5 mt-16 w-full"> <div class="border-t pt-5"> <div class="flex items-center gap-y-3 max-sm:flex-col sm:justify-between sm:gap-y-0"> <div class="flex flex-col items-center sm:items-start gap-y-2 text-sm text-muted-foreground [&_a]:text-foreground"> <div class="flex flex-col sm:flex-row items-center sm:items-start gap-x-4 gap-y-2">  <div> Â© 2026 - 2026 é’Ÿç¥ç§€ 
&
<span> <span> <a href="/terms/list" target="_blank"> Site Policy </a> </span> </span>  </div> <span> <a href="https://github.com/withastro/astro" target="_blank">
Astro
</a>
&
<a href="https://github.com/cworld1/astro-theme-pure" target="_blank">
Pure
</a>
theme powered
</span> </div>  <div> <span> <a href target="_blank" class="text-sm">  </a>  |  </span><span> <a href target="_blank" class="text-sm">  </a>  </span> </div> </div>  <div class="flex flex-col gap-y-2 items-center sm:items-start">  <div class="flex items-center text-xs md:text-sm text-muted-foreground">  <div class="flex items-center gap-x-1 px-4"> <span>âˆ‘ Words</span> <span class="font-medium text-foreground"> 16.2k </span> </div> <div class="h-3 w-px bg-border"></div>  <div class="flex items-center gap-x-1 px-4"> <span>âˆ‘ Time</span> <span id="uptime" class="font-medium text-foreground"> Loadingâ€¦ </span> </div> </div>  <div class="flex items-center text-xs md:text-sm text-muted-foreground">  <div class="flex items-center gap-x-1 px-4"> <span>âˆ‘ Visits</span> <span id="vercount_value_site_pv" class="font-medium text-foreground">
Loadingâ€¦
</span> </div> <div class="h-3 w-px bg-border"></div> <div class="flex items-center gap-x-1 px-4"> <span>âˆ‘ Views</span> <span id="vercount_value_page_pv" class="font-medium text-foreground">
Loadingâ€¦
</span> </div> <div class="h-3 w-px bg-border"></div> <div class="flex items-center gap-x-1 px-4"> <span>âˆ‘ Visitors</span> <span id="vercount_value_site_uv" class="font-medium text-foreground">
Loadingâ€¦
</span> </div>  </div> </div> <script>(function(){const siteStart = "2025-10-07T00:00:00";

        const start = new Date(siteStart)
        const updateUptime = () => {
          const diff = Date.now() - start.getTime()
          const days = Math.floor(diff / (1000 * 60 * 60 * 24))
          const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))
          const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))
          const seconds = Math.floor((diff % (1000 * 60)) / 1000)
          const uptimeElement = document.getElementById('uptime')
          if (uptimeElement) {
            uptimeElement.textContent = `${days} d ${hours} h ${minutes} m ${seconds} s`
          }
        }
        setInterval(updateUptime, 1000)
        updateUptime()
      })();</script>  <div class="flex items-center gap-x-4"> <a class="inline-block text-muted-foreground transition-all hover:text-muted-foreground/75" href="mailto:3149261770@qq.com" aria-label="Email"> <svg aria-hidden="true" class=" astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M20 4a2 2 0 0 1 1.995 1.85L22 6v12a2 2 0 0 1-1.85 1.995L20 20H4a2 2 0 0 1-1.995-1.85L2 18V6a2 2 0 0 1 1.85-1.995L4 4zm0 3.414l-6.94 6.94a1.5 1.5 0 0 1-2.12 0L4 7.414V18h16zM18.586 6H5.414L12 12.586z"/></g></svg>  </a><a class="inline-block text-muted-foreground transition-all hover:text-muted-foreground/75" href="https://github.com/zsxcoder" aria-label="GitHub"> <svg aria-hidden="true" class=" astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M6.315 6.176c-.25-.638-.24-1.367-.129-2.034a6.8 6.8 0 0 1 2.12 1.07c.28.214.647.283.989.18A9.3 9.3 0 0 1 12 5c.961 0 1.874.14 2.703.391c.342.104.709.034.988-.18a6.8 6.8 0 0 1 2.119-1.07c.111.667.12 1.396-.128 2.033c-.15.384-.075.826.208 1.14C18.614 8.117 19 9.04 19 10c0 2.114-1.97 4.187-5.134 4.818c-.792.158-1.101 1.155-.495 1.726c.389.366.629.882.629 1.456v3a1 1 0 0 0 2 0v-3c0-.57-.12-1.112-.334-1.603C18.683 15.35 21 12.993 21 10c0-1.347-.484-2.585-1.287-3.622c.21-.82.191-1.646.111-2.28c-.071-.568-.17-1.312-.57-1.756c-.595-.659-1.58-.271-2.28-.032a9 9 0 0 0-2.125 1.045A11.4 11.4 0 0 0 12 3c-.994 0-1.953.125-2.851.356a9 9 0 0 0-2.125-1.045c-.7-.24-1.686-.628-2.281.031c-.408.452-.493 1.137-.566 1.719l-.005.038c-.08.635-.098 1.462.112 2.283C3.484 7.418 3 8.654 3 10c0 2.992 2.317 5.35 5.334 6.397A4 4 0 0 0 8 17.98l-.168.034c-.717.099-1.176.01-1.488-.122c-.76-.322-1.152-1.133-1.63-1.753c-.298-.385-.732-.866-1.398-1.088a1 1 0 0 0-.632 1.898c.558.186.944 1.142 1.298 1.566c.373.448.869.916 1.58 1.218c.682.29 1.483.393 2.438.276V21a1 1 0 0 0 2 0v-3c0-.574.24-1.09.629-1.456c.607-.572.297-1.568-.495-1.726C6.969 14.187 5 12.114 5 10c0-.958.385-1.881 1.108-2.684c.283-.314.357-.756.207-1.14"/></g></svg>  </a><a class="inline-block text-muted-foreground transition-all hover:text-muted-foreground/75" href="https://t.me/KemiaoJun" aria-label="Telegram"> <svg aria-hidden="true" class=" astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none" fill-rule="evenodd"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M21.84 6.056a1.5 1.5 0 0 0-2.063-1.626l-17.1 7.2c-1.192.502-1.253 2.226 0 2.746a57 57 0 0 0 3.774 1.418c1.168.386 2.442.743 3.463.844c.279.334.63.656.988.95c.547.45 1.205.913 1.885 1.357c1.362.89 2.873 1.741 3.891 2.295c1.217.66 2.674-.1 2.892-1.427zM4.594 12.993l15.124-6.368l-2.118 12.84c-.999-.543-2.438-1.356-3.72-2.194a20 20 0 0 1-1.709-1.229a8 8 0 0 1-.426-.374l3.961-3.96a1 1 0 0 0-1.414-1.415L9.955 14.63c-.734-.094-1.756-.366-2.878-.736a49 49 0 0 1-2.482-.902Z"/></g></svg>  </a><a class="inline-block text-muted-foreground transition-all hover:text-muted-foreground/75" href="/rss.xml" aria-label="RSS"> <svg aria-hidden="true" class=" astro-udet5etc" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><g fill="none"><path d="m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M5.5 17a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3m0-14C14.06 3 21 9.94 21 18.5q0 .268-.009.534a1 1 0 0 1-1.999-.068Q19 18.734 19 18.5C19 11.044 12.956 5 5.5 5q-.234 0-.466.008a1 1 0 0 1-.068-1.999Q5.231 3 5.5 3m0 7a8.5 8.5 0 0 1 8.482 9.066a1 1 0 0 1-1.996-.132a6.5 6.5 0 0 0-6.92-6.92a1 1 0 1 1-.132-1.995q.28-.02.566-.019"/></g></svg>  </a> </div> </div> </div> </footer> </div>    <script src="https://cn.vercount.one/js" async data-astro-rerun></script> </body> </html> <script type="module">const d=document.getElementById("sidebar-btn"),e=document.getElementById("sidebar"),s=document.getElementById("sidebar-shade");s&&s.addEventListener("click",()=>{t()});function t(){e&&e.classList.contains("show")?(e.classList.remove("show"),s.style.display="none"):e&&(e.classList.add("show"),s.style.display="block")}d?.addEventListener("click",()=>{t()});</script>  <script src="https://cdn.jsdmirror.com/npm/medium-zoom/dist/pure/medium-zoom.min.umd.js"></script> <script>(function(){const selector = ".prose .zoomable";
const background = "hsl(var(--background) / 0.8)";

  mediumZoom(selector, { background })
})();</script> 