import{c as h,j as e}from"./createLucideIcon.CBGVLFT6.js";import{r as a}from"./index.BmW6Ki2V.js";import{D as s}from"./friendLevels.373wrxB-.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],p=h("circle-alert",m),f=({link:t})=>{const[o,l]=a.useState(!1),[r,n]=a.useState(!1),[i,x]=a.useState(!1),d=a.useRef(null);return a.useEffect(()=>{if(!d.current||i)return;const c=new IntersectionObserver(u=>{u[0].isIntersecting&&(x(!0),c.disconnect())},{rootMargin:"100px"});return c.observe(d.current),()=>c.disconnect()},[i]),e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:`group relative flex flex-col gap-3 p-5 rounded-xl border transition-all duration-300 
                bg-white dark:bg-white/5 
                hover:-translate-y-1 hover:shadow-lg
                ${s.border.replace("border-","border-opacity-50 hover:border-opacity-100 ")}
                overflow-hidden min-h-[140px] h-auto opacity-70 group-hover:opacity-100 no-underline
            `,children:[e.jsx("div",{className:`absolute top-0 right-0 p-8 opacity-0 group-hover:opacity-5 transition-opacity pointer-events-none ${s.theme}`,children:e.jsx(s.Icon,{size:120})}),e.jsxs("div",{className:"flex items-start gap-4 w-full",children:[e.jsxs("div",{ref:d,className:"relative w-16 h-16 flex-shrink-0",children:[e.jsx("div",{className:`absolute inset-0 rounded-full border-2 ${s.border} opacity-20 scale-110`}),!o&&!r&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-200 dark:bg-gray-700 animate-pulse"}),!r&&i?e.jsx("img",{src:t.avatar,alt:t.name,onLoad:()=>l(!0),onError:()=>{n(!0),l(!0)},className:`w-16 h-16 rounded-full object-cover relative z-10 transition-transform duration-500 group-hover:rotate-12 ${o?"opacity-100":"opacity-0"}`}):r&&e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-gray-500 text-lg z-10 relative",children:t.name.charAt(0)}),e.jsxs("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full flex items-center gap-1 z-20",children:[e.jsx(p,{size:10}),"失联"]})]}),e.jsxs("div",{className:"flex-grow min-w-0 z-10 flex flex-col pr-12 pb-4",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate line-through no-underline text-base",children:t.name})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed line-clamp-2 line-through no-underline",children:t.description})]})]}),e.jsx("div",{className:"absolute bottom-[-5px] right-[-5px] opacity-25 group-hover:opacity-40 transition-all duration-300 group-hover:scale-110 group-hover:rotate-[-12deg] pointer-events-none",children:e.jsxs("div",{className:`relative w-24 h-24 flex items-center justify-center ${s.color}`,children:[e.jsx("div",{className:"absolute top-3 font-black tracking-widest uppercase text-[10px] opacity-100 font-serif",children:s.title}),e.jsx(s.Icon,{size:40,strokeWidth:1.5,className:"currentColor opacity-60"}),e.jsx("div",{className:"absolute bottom-3 font-mono text-[9px] opacity-100 font-bold",children:"DISCONNECTED"})]})})]})},y=({links:t})=>{const[o,l]=a.useState(!1);a.useEffect(()=>{window.dispatchEvent(new Event("scroll"))},[]);const r=t.filter(n=>n.disconnected);return r.length===0?null:e.jsxs("div",{className:"mb-24",children:[e.jsxs("button",{onClick:()=>l(!o),className:"flex items-center justify-between w-full p-4 mb-4 rounded-xl border border-slate-200 dark:border-white/10 bg-white dark:bg-white/5 hover:bg-slate-100 dark:hover:bg-white/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{transform:"translateY(9.5px)"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h2",{id:"disconnected-links",className:"text-xl font-bold text-slate-900 dark:text-white",children:"失联友链"}),e.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 flex-shrink-0",style:{transform:"translateY(10px)"},children:r.length})]}),e.jsx("svg",{className:`w-5 h-5 text-slate-500 dark:text-slate-400 transition-transform duration-300 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})})]}),o&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-4 duration-300",children:r.map((n,i)=>e.jsx(f,{link:n},`${n.name}-${i}`))})]})};export{y as default};
