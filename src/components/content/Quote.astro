---
import Icon from '../custom/Icon.astro';
import { Icons } from '../../libs/icons';

interface Props {
  icon?: keyof typeof Icons;
  class?: string;
}

const props = Astro.props;
const { icon, class: className } = props;
---

<div class={`quote title-like ${className || ''}`}>
  <div class="icon-line">
    <slot name="icon">
      {icon && (
        <div class="icon-container">
          <Icon name={icon} size="4rem" />
        </div>
      )}
    </slot>
  </div>
  <slot>
    <!-- 默认内容 -->
  </slot>
</div>

<style scoped>
.quote {
  font-size: 1.2rem;
  line-height: 1.5;
  color: var(--c-text-2, hsl(var(--muted-foreground)));
  margin: 1.5rem 0;

  :global(p) {
    margin: 0;
  }
}

.icon-line {
  position: relative;
  opacity: 0.5;
  min-height: 1em;
  margin-bottom: -1em;
  mask-image: linear-gradient(#FFF, transparent);
  transition: all 0.2s;
  z-index: -1;
}

.icon-container {
  font-size: 4rem;
  line-height: 1;
}

:slotted([slot="icon"]) {
  font-size: 4rem;
  line-height: 1;
}

.quote:hover .icon-line {
  opacity: 1;
  transform: translateY(-0.5rem);
}
</style>